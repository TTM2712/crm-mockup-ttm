"use strict";(self.webpackChunkfe_crm_website=self.webpackChunkfe_crm_website||[]).push([[953],{24953:(e,n,l)=>{l.r(n),l.d(n,{default:()=>ie});var t=l(89379),s=l(65043),a=l(53969),i=l(38517),r=l(47548),o=l(94799),c=l(55895),d=l(41859),x=l(24343),h=l(33699),m=l(42579),j=l(28259),A=l(87443),u=l(10756),p=l(86172),f=l(81341),C=l(38865),g=l(34375),b=l(17873),w=l(83759),y=l(26529),v=l(26235),S=l(22950),N=l(63745),k=l(40847),W=l(61773),L=l(5362),P=l(12043),z=l(70579);const D=[{id:"name",label:"Name",minWidth:170},{id:"email",label:"Email",minWidth:170},{id:"phone",label:"Phone Number",minWidth:120},{id:"owner",label:"Contact Owner",minWidth:120},{id:"createDate",label:"Create Date",minWidth:100},{id:"leadStatus",label:"Lead Status",minWidth:100},{id:"actions",label:"Actions",minWidth:80}],I=e=>{let{contacts:n,searchTerm:l,page:t,rowsPerPage:s,selectedContacts:i,onSearchChange:r,onChangePage:I,onChangeRowsPerPage:E,onSelectAllClick:T,onCheckboxClick:O,onOpenCreateDialog:R,onOpenContactDrawer:F,getInitials:Q,isSelected:B}=e;const M=n.filter(e=>e.firstName.toLowerCase().includes(l.toLowerCase())||e.lastName.toLowerCase().includes(l.toLowerCase())||e.email.toLowerCase().includes(l.toLowerCase())||e.phone.includes(l));return(0,z.jsxs)(o.A,{sx:{width:"100%",overflow:"hidden"},children:[(0,z.jsxs)(a.A,{p:2,display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,z.jsxs)(c.A,{variant:"h6",component:"div",children:["Contacts",(0,z.jsxs)(c.A,{component:"span",color:"text.secondary",sx:{ml:1},children:["(",M.length,")"]})]}),(0,z.jsx)(a.A,{display:"flex",gap:1,children:(0,z.jsx)(d.A,{variant:"contained",startIcon:(0,z.jsx)(S.A,{}),onClick:R,children:"Create Contact"})})]}),(0,z.jsxs)(a.A,{px:2,pb:2,display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,z.jsx)(x.A,{placeholder:"Search contacts...",size:"small",value:l,onChange:r,InputProps:{startAdornment:(0,z.jsx)(h.A,{position:"start",children:(0,z.jsx)(N.A,{})})},sx:{width:300}}),(0,z.jsx)(m.A,{children:(0,z.jsx)(k.A,{})})]}),(0,z.jsx)(j.A,{sx:{maxHeight:"calc(100vh - 280px)"},children:(0,z.jsxs)(A.A,{stickyHeader:!0,children:[(0,z.jsx)(u.A,{children:(0,z.jsxs)(p.A,{children:[(0,z.jsx)(f.A,{padding:"checkbox",children:(0,z.jsx)(C.A,{indeterminate:i.length>0&&i.length<M.length,checked:M.length>0&&i.length===M.length,onChange:T})}),D.map(e=>(0,z.jsx)(f.A,{style:{minWidth:e.minWidth},sx:{fontWeight:"bold"},children:e.label},e.id))]})}),(0,z.jsx)(g.A,{children:M.slice(t*s,t*s+s).map(e=>{const n=B(e.id);return(0,z.jsxs)(p.A,{hover:!0,role:"checkbox",tabIndex:-1,selected:n,children:[(0,z.jsx)(f.A,{padding:"checkbox",children:(0,z.jsx)(C.A,{checked:n,onClick:()=>O(e.id)})}),(0,z.jsx)(f.A,{children:(0,z.jsxs)(a.A,{display:"flex",alignItems:"center",sx:{cursor:"pointer"},onClick:()=>F(e),children:[(0,z.jsx)(b.A,{sx:{mr:2,bgcolor:"primary.main"},children:Q(e.firstName,e.lastName)}),(0,z.jsxs)(c.A,{children:[e.firstName," ",e.lastName]})]})}),(0,z.jsx)(f.A,{children:e.email}),(0,z.jsx)(f.A,{children:e.phone}),(0,z.jsx)(f.A,{children:e.owner}),(0,z.jsx)(f.A,{children:e.createDate}),(0,z.jsx)(f.A,{children:(0,z.jsx)(w.A,{label:e.leadStatus,color:"New"===e.leadStatus?"primary":"Qualified"===e.leadStatus?"success":"warning",size:"small"})}),(0,z.jsx)(f.A,{children:(0,z.jsxs)(a.A,{display:"flex",children:[(0,z.jsx)(y.A,{title:"Edit",children:(0,z.jsx)(m.A,{size:"small",children:(0,z.jsx)(W.A,{fontSize:"small"})})}),(0,z.jsx)(y.A,{title:"Delete",children:(0,z.jsx)(m.A,{size:"small",children:(0,z.jsx)(L.A,{fontSize:"small"})})}),(0,z.jsx)(y.A,{title:"More",children:(0,z.jsx)(m.A,{size:"small",children:(0,z.jsx)(P.A,{fontSize:"small"})})})]})})]},e.id)})})]})}),(0,z.jsx)(v.A,{rowsPerPageOptions:[10,25,100],component:"div",count:M.length,rowsPerPage:s,page:t,onPageChange:I,onRowsPerPageChange:E})]})};var E=l(94527),T=l(91244),O=l(16128),R=l(27421),F=l(94045),Q=l(4573),B=l(23241),M=l(73069),_=l(69200),H=l(25272);const U=e=>{let{contact:n,onClose:l,onOpenEmailWindow:t,onOpenNoteDialog:s}=e;return(0,z.jsxs)(a.A,{children:[(0,z.jsxs)(a.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,z.jsx)(c.A,{variant:"h6",children:"Contact Details"}),(0,z.jsx)(m.A,{onClick:l,children:(0,z.jsx)(R.A,{})})]}),(0,z.jsxs)(a.A,{mb:3,children:[(0,z.jsxs)(c.A,{variant:"h5",fontWeight:"bold",children:[n.firstName," ",n.lastName]}),(0,z.jsx)(c.A,{color:"text.secondary",sx:{mb:1},children:n.email}),(0,z.jsxs)(a.A,{display:"flex",gap:1,mt:2,children:[(0,z.jsx)(y.A,{title:"Add Note",children:(0,z.jsx)(m.A,{color:"primary",onClick:s,children:(0,z.jsx)(F.A,{})})}),(0,z.jsx)(y.A,{title:"Send Email",children:(0,z.jsx)(m.A,{color:"primary",onClick:t,children:(0,z.jsx)(Q.A,{})})}),(0,z.jsx)(y.A,{title:"Call",children:(0,z.jsx)(m.A,{color:"primary",children:(0,z.jsx)(B.A,{})})}),(0,z.jsx)(y.A,{title:"Schedule",children:(0,z.jsx)(m.A,{color:"primary",children:(0,z.jsx)(M.A,{})})}),(0,z.jsx)(y.A,{title:"Create Task",children:(0,z.jsx)(m.A,{color:"primary",children:(0,z.jsx)(_.A,{})})})]})]}),(0,z.jsx)(E.A,{sx:{my:2}}),(0,z.jsx)(T.A,{variant:"outlined",sx:{mb:2},children:(0,z.jsxs)(O.A,{children:[(0,z.jsxs)(a.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,z.jsx)(c.A,{variant:"subtitle1",fontWeight:"bold",children:"About this contact"}),(0,z.jsx)(H.A,{})]}),(0,z.jsxs)(a.A,{mt:2,sx:{display:"flex",flexWrap:"wrap",gap:2},children:[(0,z.jsxs)(a.A,{sx:{flex:"1 1 calc(50% - 8px)"},children:[(0,z.jsx)(c.A,{variant:"body2",color:"text.secondary",children:"Phone"}),(0,z.jsx)(c.A,{variant:"body1",children:n.phone})]}),(0,z.jsxs)(a.A,{sx:{flex:"1 1 calc(50% - 8px)"},children:[(0,z.jsx)(c.A,{variant:"body2",color:"text.secondary",children:"Lead Status"}),(0,z.jsx)(w.A,{label:n.leadStatus,color:"New"===n.leadStatus?"primary":"Qualified"===n.leadStatus?"success":"warning",size:"small"})]}),(0,z.jsxs)(a.A,{sx:{flex:"1 1 calc(50% - 8px)"},children:[(0,z.jsx)(c.A,{variant:"body2",color:"text.secondary",children:"Owner"}),(0,z.jsx)(c.A,{variant:"body1",children:n.owner})]}),(0,z.jsxs)(a.A,{sx:{flex:"1 1 calc(50% - 8px)"},children:[(0,z.jsx)(c.A,{variant:"body2",color:"text.secondary",children:"Created"}),(0,z.jsx)(c.A,{variant:"body1",children:n.createDate})]})]})]})}),(0,z.jsx)(T.A,{variant:"outlined",children:(0,z.jsxs)(O.A,{children:[(0,z.jsx)(c.A,{variant:"subtitle1",fontWeight:"bold",children:"Activity Timeline"}),(0,z.jsx)(a.A,{mt:2,display:"flex",justifyContent:"center",alignItems:"center",height:100,children:(0,z.jsx)(c.A,{variant:"body2",color:"text.secondary",children:"No activities yet"})})]})})]})};var V=l(81911),q=l(78776),G=l(10256),X=l(3353),Y=l(67203),J=l(47471),K=l(85877);const Z=e=>{let{newContact:n,onClose:l,onChange:t,onLeadStatusChange:s,onSubmit:i}=e;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(V.A,{children:(0,z.jsxs)(a.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:["Create New Contact",(0,z.jsx)(m.A,{onClick:l,size:"small",children:(0,z.jsx)(R.A,{})})]})}),(0,z.jsx)(q.A,{children:(0,z.jsxs)(a.A,{sx:{mt:1,display:"flex",flexWrap:"wrap",gap:2},children:[(0,z.jsx)(a.A,{sx:{flex:"1 1 calc(50% - 8px)"},children:(0,z.jsx)(x.A,{name:"firstName",label:"First Name",fullWidth:!0,required:!0,value:n.firstName,onChange:t,autoFocus:!0})}),(0,z.jsx)(a.A,{sx:{flex:"1 1 calc(50% - 8px)"},children:(0,z.jsx)(x.A,{name:"lastName",label:"Last Name",fullWidth:!0,value:n.lastName,onChange:t})}),(0,z.jsx)(a.A,{sx:{width:"100%",mt:2},children:(0,z.jsx)(x.A,{name:"email",label:"Email",type:"email",fullWidth:!0,required:!0,value:n.email,onChange:t})}),(0,z.jsx)(a.A,{sx:{width:"100%",mt:2},children:(0,z.jsx)(x.A,{name:"phone",label:"Phone Number",fullWidth:!0,value:n.phone,onChange:t})}),(0,z.jsx)(a.A,{sx:{width:"100%",mt:2},children:(0,z.jsx)(x.A,{name:"jobTitle",label:"Job Title",fullWidth:!0,value:n.jobTitle,onChange:t})}),(0,z.jsx)(a.A,{sx:{width:"100%",mt:2},children:(0,z.jsxs)(G.A,{fullWidth:!0,children:[(0,z.jsx)(X.A,{children:"Lead Status"}),(0,z.jsxs)(Y.A,{value:n.leadStatus,label:"Lead Status",onChange:s,children:[(0,z.jsx)(J.A,{value:"New",children:"New"}),(0,z.jsx)(J.A,{value:"Contacted",children:"Contacted"}),(0,z.jsx)(J.A,{value:"Qualified",children:"Qualified"}),(0,z.jsx)(J.A,{value:"Lost",children:"Lost"})]})]})})]})}),(0,z.jsxs)(K.A,{children:[(0,z.jsx)(d.A,{onClick:l,children:"Cancel"}),(0,z.jsx)(d.A,{onClick:i,variant:"contained",color:"primary",children:"Save"})]})]})};var $=l(62055),ee=l(8297),ne=l(10167),le=l(27496);const te=e=>{let{open:n,onClose:l,recipientEmail:t=""}=e;const[i,r]=(0,s.useState)({x:100,y:100}),[h,j]=(0,s.useState)(!1),[A,u]=(0,s.useState)({x:0,y:0}),[p,f]=(0,s.useState)(!1),[C,g]=(0,s.useState)(!1),[b,w]=(0,s.useState)(null),y=(0,s.useRef)(null);(0,s.useEffect)(()=>{const e=e=>{h&&!C&&r({x:e.clientX-A.x,y:e.clientY-A.y})},n=()=>{j(!1)};return h&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",n)),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",n)}},[h,A,C]);const v=()=>{w(null)};return n?(0,z.jsxs)(o.A,{ref:y,sx:{position:"fixed",top:C?0:i.y,left:C?0:i.x,width:C?"100%":600,height:C?"100%":p?40:500,zIndex:1300,overflow:"hidden",boxShadow:"0 4px 20px rgba(0,0,0,0.15)",borderRadius:"8px",display:"flex",flexDirection:"column",transition:"height 0.2s ease-in-out"},children:[(0,z.jsxs)(a.A,{sx:{bgcolor:"#f0f0f0",p:1,display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",userSelect:"none",borderBottom:"1px solid #ddd"},onMouseDown:e=>{if(!C&&y.current&&e.target===e.currentTarget){j(!0);const n=y.current.getBoundingClientRect();u({x:e.clientX-n.left,y:e.clientY-n.top})}},children:[(0,z.jsx)(c.A,{variant:"subtitle1",fontWeight:"medium",children:"New Email"}),(0,z.jsxs)(a.A,{children:[(0,z.jsx)(m.A,{size:"small",onClick:()=>{f(!p)},children:(0,z.jsx)(ee.A,{fontSize:"small"})}),(0,z.jsx)(m.A,{size:"small",onClick:()=>{g(!C)},children:(0,z.jsx)(ne.A,{fontSize:"small"})}),(0,z.jsx)(m.A,{size:"small",onClick:l,children:(0,z.jsx)(R.A,{fontSize:"small"})})]})]}),!p&&(0,z.jsxs)(a.A,{sx:{p:2,flexGrow:1,display:"flex",flexDirection:"column",overflow:"auto"},children:[(0,z.jsx)(x.A,{label:"To",fullWidth:!0,value:t,margin:"dense",size:"small"}),(0,z.jsx)(x.A,{label:"From",fullWidth:!0,value:"your.email@example.com",margin:"dense",size:"small",InputProps:{readOnly:!0}}),(0,z.jsx)(x.A,{label:"Subject",fullWidth:!0,margin:"dense",size:"small"}),(0,z.jsx)(E.A,{sx:{my:2}}),(0,z.jsx)(x.A,{label:"Message",multiline:!0,rows:C?20:12,fullWidth:!0,sx:{flexGrow:1}}),(0,z.jsxs)(a.A,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:[(0,z.jsx)(d.A,{variant:"outlined",sx:{mr:1},children:"Cancel"}),(0,z.jsxs)(a.A,{children:[(0,z.jsx)(d.A,{variant:"contained",color:"primary",endIcon:(0,z.jsx)(H.A,{}),onClick:e=>{w(e.currentTarget)},children:"Send"}),(0,z.jsxs)($.A,{anchorEl:b,open:Boolean(b),onClose:v,children:[(0,z.jsx)(J.A,{onClick:()=>{v()},children:"Send now"}),(0,z.jsxs)(J.A,{onClick:()=>{v()},children:[(0,z.jsx)(le.A,{fontSize:"small",sx:{mr:1}}),"Send later"]})]})]})]})]})]}):null},se=e=>{let{open:n,onClose:l}=e;return(0,z.jsxs)(i.A,{open:n,onClose:l,fullWidth:!0,maxWidth:"sm",children:[(0,z.jsx)(V.A,{children:(0,z.jsxs)(a.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:["Add Note",(0,z.jsx)(m.A,{onClick:l,size:"small",children:(0,z.jsx)(R.A,{})})]})}),(0,z.jsxs)(q.A,{children:[(0,z.jsx)(x.A,{autoFocus:!0,margin:"dense",id:"note",label:"Note",multiline:!0,rows:4,fullWidth:!0,variant:"outlined"}),(0,z.jsxs)(d.A,{variant:"outlined",component:"label",sx:{mt:2},children:["Attach File",(0,z.jsx)("input",{type:"file",hidden:!0})]})]}),(0,z.jsxs)(K.A,{children:[(0,z.jsx)(d.A,{onClick:l,children:"Cancel"}),(0,z.jsx)(d.A,{onClick:l,variant:"contained",color:"primary",children:"Save"})]})]})},ae=[{id:1,firstName:"Nguy\u1ec5n",lastName:"V\u0103n A",email:"nguyenvana@example.com",phone:"0901234567",owner:"Admin User",createDate:"2023-07-15",leadStatus:"New"},{id:2,firstName:"Tr\u1ea7n",lastName:"Th\u1ecb B",email:"tranthib@example.com",phone:"0912345678",owner:"Sales Rep",createDate:"2023-07-10",leadStatus:"Qualified"},{id:3,firstName:"L\xea",lastName:"V\u0103n C",email:"levanc@example.com",phone:"0923456789",owner:"Admin User",createDate:"2023-07-05",leadStatus:"Contacted"},{id:4,firstName:"Ph\u1ea1m",lastName:"Th\u1ecb D",email:"phamthid@example.com",phone:"0934567890",owner:"Sales Rep",createDate:"2023-06-30",leadStatus:"New"},{id:5,firstName:"Ho\xe0ng",lastName:"V\u0103n E",email:"hoangvane@example.com",phone:"0945678901",owner:"Admin User",createDate:"2023-06-25",leadStatus:"Qualified"}],ie=()=>{const[e,n]=(0,s.useState)(0),[l,o]=(0,s.useState)(10),[c,d]=(0,s.useState)(""),[x,h]=(0,s.useState)([]),[m,j]=(0,s.useState)(!1),[A,u]=(0,s.useState)(!1),[p,f]=(0,s.useState)(null),[C,g]=(0,s.useState)(!1),[b,w]=(0,s.useState)(!1),[y,v]=(0,s.useState)({firstName:"",lastName:"",email:"",phone:"",jobTitle:"",leadStatus:"New"}),S=()=>{j(!1),v({firstName:"",lastName:"",email:"",phone:"",jobTitle:"",leadStatus:"New"})},N=()=>{u(!1)},k=ae.filter(e=>"".concat(e.firstName," ").concat(e.lastName).toLowerCase().includes(c.toLowerCase())||e.email.toLowerCase().includes(c.toLowerCase())||e.phone.includes(c));return(0,z.jsxs)(a.A,{sx:{p:3},children:[(0,z.jsx)(I,{contacts:ae,searchTerm:c,page:e,rowsPerPage:l,selectedContacts:x,onSearchChange:e=>{d(e.target.value),n(0)},onChangePage:(e,l)=>{n(l)},onChangeRowsPerPage:e=>{o(+e.target.value),n(0)},onSelectAllClick:e=>{if(e.target.checked){const e=k.map(e=>e.id);return void h(e)}h([])},onCheckboxClick:e=>{const n=x.indexOf(e);let l=[];-1===n?l=l.concat(x,e):0===n?l=l.concat(x.slice(1)):n===x.length-1?l=l.concat(x.slice(0,-1)):n>0&&(l=l.concat(x.slice(0,n),x.slice(n+1))),h(l)},onOpenCreateDialog:()=>{j(!0)},onOpenContactDrawer:e=>{f(e),u(!0)},getInitials:(e,n)=>"".concat(e.charAt(0)).concat(n.charAt(0)),isSelected:e=>-1!==x.indexOf(e)}),(0,z.jsx)(i.A,{open:m,onClose:S,fullWidth:!0,maxWidth:"sm",children:(0,z.jsx)(Z,{newContact:y,onClose:S,onChange:e=>{const{name:n,value:l}=e.target;v((0,t.A)((0,t.A)({},y),{},{[n]:l}))},onLeadStatusChange:e=>{v((0,t.A)((0,t.A)({},y),{},{leadStatus:e.target.value}))},onSubmit:()=>{console.log("Creating contact:",y),S(),alert("\u2705 Contact created successfully!")}})}),(0,z.jsx)(r.Ay,{anchor:"right",open:A,onClose:N,sx:{"& .MuiDrawer-paper":{width:{xs:"100%",sm:400},p:2}},children:p&&(0,z.jsx)(U,{contact:p,onClose:N,onOpenEmailWindow:()=>{w(!0)},onOpenNoteDialog:()=>{g(!0)}})}),(0,z.jsx)(se,{open:C,onClose:()=>{g(!1)}}),(0,z.jsx)(te,{open:b,onClose:()=>{w(!1)},recipientEmail:(null===p||void 0===p?void 0:p.email)||""})]})}}}]);
//# sourceMappingURL=953.55e3eb4c.chunk.js.map