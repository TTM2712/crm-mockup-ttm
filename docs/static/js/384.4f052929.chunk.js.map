{"version":3,"file":"static/js/384.4f052929.chunk.js","mappings":"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","sources":["pages/DealManagement/components/DealTypes.ts","pages/DealManagement/components/SmartFilter.tsx","pages/DealManagement/components/DealStageChip.tsx","pages/DealManagement/components/DealReminderBadge.tsx","pages/DealManagement/components/DealList.tsx","pages/DealManagement/components/DealFilters.tsx","pages/DealManagement/components/DealForm.tsx","pages/DealManagement/components/DealStats.tsx","pages/DealManagement/components/DealReminders.tsx","pages/DealManagement/index.tsx"],"sourcesContent":["// Định nghĩa các types cho module Deal Management\n\n// Enum cho các giai đoạn deal\nexport enum DealStage {\n  INITIAL_CONTACT = 'Liên hệ ban đầu',\n  REQUIREMENT_RECORDED = 'Đã ghi nhận yêu cầu',\n  QUOTE_SENT = 'Đã gửi báo giá',\n  CONTRACT_SENT = 'Gửi hợp đồng',\n  CLOSED_WON = 'Đã chốt',\n  CLOSED_LOST = 'Đã huỷ'\n}\n\n// Màu sắc cho từng giai đoạn\nexport const STAGE_COLORS: Record<DealStage, string> = {\n  [DealStage.INITIAL_CONTACT]: '#ff9800', // Cam nhạt\n  [DealStage.REQUIREMENT_RECORDED]: '#fbc02d', // Vàng đậm\n  [DealStage.QUOTE_SENT]: '#1976d2', // Xanh dương\n  [DealStage.CONTRACT_SENT]: '#7b1fa2', // Tím\n  [DealStage.CLOSED_WON]: '#4caf50', // Xanh lá\n  [DealStage.CLOSED_LOST]: '#e53935' // Đỏ\n};\n\n// Trọng số cho từng giai đoạn (để tính giá trị deal có trọng số)\nexport const STAGE_WEIGHTS: Record<DealStage, number> = {\n  [DealStage.INITIAL_CONTACT]: 0.1,\n  [DealStage.REQUIREMENT_RECORDED]: 0.3,\n  [DealStage.QUOTE_SENT]: 0.5,\n  [DealStage.CONTRACT_SENT]: 0.7,\n  [DealStage.CLOSED_WON]: 1.0,\n  [DealStage.CLOSED_LOST]: 0.0\n};\n\n// Interface cho Deal\nexport interface Deal {\n  id: number;\n  name: string;\n  customer: string;\n  stage: DealStage;\n  value: number;\n  deadline: string; // ISO date string\n  owner: string;\n  notes?: string;\n  createdAt: string; // ISO date string\n  hasReminder: boolean;\n  reminderNote?: string;\n  reminderDate?: string; // ISO date string\n  reminderRecipient?: string;\n}\n\n// Interface cho bộ lọc\nexport interface DealFilters {\n  searchTerm: string;\n  stage: DealStage | 'Tất cả';\n  owner: string | 'Tất cả';\n  dateRange: {\n    start: Date | null;\n    end: Date | null;\n  } | null;\n  hasReminder: boolean | null;\n  valueRange: {\n    min: number;\n    max: number;\n  };\n}\n\n// Interface cho các chỉ số tổng quan\nexport interface DealStats {\n  totalDealAmount: number;\n  weightedDealAmount: number;\n  openDealAmount: number;\n  closedDealAmount: number;\n  newDealsThisMonth: number;\n  averageDealAge: number; // Số ngày trung bình\n}\n\n// Interface cho form thêm/sửa deal\nexport interface DealFormData {\n  name: string;\n  customer: string;\n  stage: DealStage;\n  value: number;\n  deadline: string;\n  owner: string;\n  notes: string;\n  hasReminder: boolean;\n  reminderNote?: string;\n  reminderDate?: string;\n  reminderRecipient?: string;\n}\n","import React, { useState } from 'react';\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  TextField,\n  Typography,\n  IconButton,\n  Chip,\n  Paper,\n  InputAdornment\n} from '@mui/material';\nimport SmartToyIcon from '@mui/icons-material/SmartToy';\nimport SendIcon from '@mui/icons-material/Send';\nimport CloseIcon from '@mui/icons-material/Close';\n\ninterface SmartFilterProps {\n  open: boolean;\n  onClose: () => void;\n  onApplyFilter: (query: string) => void;\n  currentFilter?: string;\n}\n\nconst exampleQueries = [\n  'Các deal chưa chốt trong tháng 7 của Phạm Thị D',\n  'Deal giá trị trên 100 triệu chưa gửi báo giá',\n  'Hiển thị deal đang ở giai đoạn đàm phán',\n  'Tìm deal của khách hàng ABC'\n];\n\nconst SmartFilter: React.FC<SmartFilterProps> = ({\n  open,\n  onClose,\n  onApplyFilter,\n  currentFilter\n}) => {\n  const [query, setQuery] = useState('');\n  const [isProcessing, setIsProcessing] = useState(false);\n\n  const handleApply = () => {\n    if (query.trim()) {\n      setIsProcessing(true);\n      // Giả lập xử lý trong 500ms\n      setTimeout(() => {\n        onApplyFilter(query);\n        setIsProcessing(false);\n        onClose();\n      }, 500);\n    }\n  };\n\n  const handleExampleClick = (example: string) => {\n    setQuery(example);\n  };\n\n  return (\n    <Dialog \n      open={open} \n      onClose={onClose}\n      maxWidth=\"sm\"\n      fullWidth\n      PaperProps={{\n        sx: {\n          borderRadius: 2,\n          minHeight: '400px',\n          display: 'flex',\n          flexDirection: 'column'\n        }\n      }}\n    >\n      <DialogTitle sx={{ \n        display: 'flex', \n        alignItems: 'center',\n        borderBottom: '1px solid',\n        borderColor: 'divider',\n        padding: 2\n      }}>\n        <SmartToyIcon color=\"primary\" sx={{ mr: 1 }} />\n        <Typography variant=\"h6\" component=\"span\">\n          Bộ lọc thông minh\n        </Typography>\n        <IconButton\n          aria-label=\"close\"\n          onClick={onClose}\n          sx={{\n            position: 'absolute',\n            right: 8,\n            top: 8,\n            color: (theme) => theme.palette.grey[500],\n          }}\n        >\n          <CloseIcon />\n        </IconButton>\n      </DialogTitle>\n      \n      <DialogContent sx={{ flex: 1, display: 'flex', flexDirection: 'column' }}>\n        <Box sx={{ mb: 2 }}>\n          <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n            Nhập yêu cầu lọc của bạn bằng ngôn ngữ tự nhiên\n          </Typography>\n          \n          <TextField\n            fullWidth\n            variant=\"outlined\"\n            placeholder=\"Ví dụ: Các deal chưa chốt trong tháng 7\"\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n            onKeyPress={(e) => e.key === 'Enter' && handleApply()}\n            disabled={isProcessing}\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    onClick={handleApply}\n                    disabled={!query.trim() || isProcessing}\n                    color=\"primary\"\n                  >\n                    <SendIcon />\n                  </IconButton>\n                </InputAdornment>\n              ),\n            }}\n          />\n        </Box>\n\n        <Box sx={{ mt: 2, mb: 2 }}>\n          <Typography variant=\"subtitle2\" color=\"text.secondary\" gutterBottom>\n            Gợi ý tìm kiếm:\n          </Typography>\n          <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\n            {exampleQueries.map((example, index) => (\n              <Chip\n                key={index}\n                label={example}\n                onClick={() => handleExampleClick(example)}\n                size=\"small\"\n                variant=\"outlined\"\n                sx={{ cursor: 'pointer' }}\n              />\n            ))}\n          </Box>\n        </Box>\n\n        {currentFilter && (\n          <Paper \n            variant=\"outlined\" \n            sx={{ \n              mt: 'auto', \n              p: 2, \n              bgcolor: 'action.hover',\n              borderRadius: 1\n            }}\n          >\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              Bộ lọc hiện tại:\n            </Typography>\n            <Typography variant=\"body1\">\n              {currentFilter}\n            </Typography>\n          </Paper>\n        )}\n      </DialogContent>\n      \n      <DialogActions sx={{ p: 2, borderTop: '1px solid', borderColor: 'divider' }}>\n        <Button onClick={onClose} color=\"inherit\">\n          Hủy\n        </Button>\n        <Button \n          onClick={handleApply} \n          variant=\"contained\" \n          disabled={!query.trim() || isProcessing}\n          startIcon={<SendIcon />}\n        >\n          {isProcessing ? 'Đang xử lý...' : 'Áp dụng'}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default SmartFilter;\n","import React from 'react';\nimport { Box, Tooltip } from '@mui/material';\nimport { DealStage, STAGE_COLORS } from './DealTypes';\n\ninterface DealStageChipProps {\n  stage: DealStage;\n  size?: 'small' | 'medium' | 'large';\n  showTooltip?: boolean;\n}\n\n/**\n * Component hiển thị giai đoạn deal với màu sắc tương ứng\n */\nconst DealStageChip: React.FC<DealStageChipProps> = ({ \n  stage, \n  size = 'medium',\n  showTooltip = false\n }) => {\n  // Xác định kích thước padding dựa trên size\n  const getPadding = () => {\n    switch(size) {\n      case 'small': return '2px 6px';\n      case 'large': return '6px 12px';\n      default: return '4px 8px';\n    }\n  };\n\n  // Xác định font size dựa trên size\n  const getFontSize = () => {\n    switch(size) {\n      case 'small': return '0.75rem';\n      case 'large': return '0.95rem';\n      default: return '0.875rem';\n    }\n  };\n\n  // Lấy màu sắc tương ứng với giai đoạn\n  const stageColor = STAGE_COLORS[stage];\n  \n  // Tạo màu nền nhạt hơn dựa trên màu chính\n  const getBgColor = () => {\n    // Chuyển hex sang rgba với alpha = 0.15\n    const hexToRgba = (hex: string, alpha: number) => {\n      const r = parseInt(hex.slice(1, 3), 16);\n      const g = parseInt(hex.slice(3, 5), 16);\n      const b = parseInt(hex.slice(5, 7), 16);\n      return `rgba(${r}, ${g}, ${b}, ${alpha})`;\n    };\n    \n    return hexToRgba(stageColor, 0.15);\n  };\n\n  const chip = (\n    <Box\n      component=\"span\"\n      sx={{\n        display: 'inline-block',\n        padding: getPadding(),\n        borderRadius: '16px',\n        backgroundColor: getBgColor(),\n        color: stageColor,\n        fontSize: getFontSize(),\n        fontWeight: 500,\n        lineHeight: 1.5,\n        textAlign: 'center',\n        whiteSpace: 'nowrap',\n        verticalAlign: 'baseline',\n        transition: 'all 0.2s ease-in-out',\n      }}\n    >\n      {stage}\n    </Box>\n  );\n\n  // Nếu có showTooltip, bao bọc bằng Tooltip\n  return showTooltip ? (\n    <Tooltip title={`Giai đoạn: ${stage}`} arrow>\n      {chip}\n    </Tooltip>\n  ) : chip;\n};\n\nexport default DealStageChip;\n","import React from 'react';\nimport { Badge, Tooltip, Box } from '@mui/material';\nimport { Notifications as NotificationsIcon } from '@mui/icons-material';\n\ninterface DealReminderBadgeProps {\n  deadline: string; // ISO date string\n  reminderNote?: string;\n  size?: 'small' | 'medium' | 'large';\n}\n\n/**\n * Component hiển thị biểu tượng nhắc việc cho các deal sắp đến hạn chốt\n * Hiển thị biểu tượng chuông đỏ nếu ngày hôm nay >= (Hạn chốt - 3 ngày)\n */\nconst DealReminderBadge: React.FC<DealReminderBadgeProps> = ({ \n  deadline,\n  reminderNote,\n  size = 'medium'\n }) => {\n  // Kiểm tra xem deal có sắp đến hạn không (còn 3 ngày nữa)\n  const isDeadlineApproaching = () => {\n    const deadlineDate = new Date(deadline);\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    \n    const diffTime = deadlineDate.getTime() - today.getTime();\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    \n    return diffDays >= 0 && diffDays <= 3;\n  };\n\n  // Tính số ngày còn lại đến hạn chốt\n  const getDaysRemaining = () => {\n    const deadlineDate = new Date(deadline);\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    \n    const diffTime = deadlineDate.getTime() - today.getTime();\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    \n    if (diffDays < 0) {\n      return 'Quá hạn';\n    } else if (diffDays === 0) {\n      return 'Đến hạn hôm nay';\n    } else {\n      return `Sắp đến hạn trong ${diffDays} ngày nữa`;\n    }\n  };\n\n  // Xác định kích thước icon dựa trên size\n  const getIconSize = () => {\n    switch(size) {\n      case 'small': return 'small';\n      case 'large': return 'large';\n      default: return 'medium';\n    }\n  };\n\n  // Nếu không sắp đến hạn, không hiển thị gì\n  if (!isDeadlineApproaching()) {\n    return null;\n  }\n\n  // Tạo tooltip message\n  const tooltipMessage = reminderNote \n    ? `${getDaysRemaining()}. ${reminderNote}` \n    : getDaysRemaining();\n\n  return (\n    <Tooltip title={tooltipMessage} arrow>\n      <Box component=\"span\" sx={{ ml: 1 }}>\n        <Badge color=\"error\" variant=\"dot\">\n          <NotificationsIcon \n            fontSize={getIconSize()} \n            color=\"error\" \n            sx={{ animation: 'pulse 1.5s infinite' }}\n          />\n        </Badge>\n      </Box>\n    </Tooltip>\n  );\n};\n\nexport default DealReminderBadge;\n","import React, { useState } from 'react';\nimport {\n  Box,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TablePagination,\n  IconButton,\n  Tooltip,\n  Typography,\n  Menu,\n  MenuItem,\n  ListItemIcon,\n  ListItemText\n} from '@mui/material';\nimport {\n  Edit as EditIcon,\n  Delete as DeleteIcon,\n  MoreVert as MoreVertIcon,\n  Visibility as VisibilityIcon,\n  ContentCopy as ContentCopyIcon\n} from '@mui/icons-material';\nimport { format } from 'date-fns';\nimport { vi } from 'date-fns/locale';\nimport { Deal } from './DealTypes';\nimport DealStageChip from './DealStageChip';\nimport DealReminderBadge from './DealReminderBadge';\n\ninterface DealListProps {\n  deals: Deal[];\n  onEdit: (deal: Deal) => void;\n  onDelete: (dealId: number) => void;\n  onView: (deal: Deal) => void;\n  onDuplicate: (deal: Deal) => void;\n}\n\n/**\n * Component hiển thị danh sách deal dạng bảng\n */\nconst DealList: React.FC<DealListProps> = ({ deals, onEdit, onDelete, onView, onDuplicate }) => {\n  // State cho phân trang\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(10);\n\n  // State cho menu thao tác\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n  const [selectedDeal, setSelectedDeal] = useState<Deal | null>(null);\n\n  // Xử lý thay đổi trang\n  const handleChangePage = (_event: unknown, newPage: number) => {\n    setPage(newPage);\n  };\n\n  // Xử lý thay đổi số hàng mỗi trang\n  const handleChangeRowsPerPage = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  // Xử lý mở menu thao tác\n  const handleOpenMenu = (event: React.MouseEvent<HTMLElement>, deal: Deal) => {\n    setAnchorEl(event.currentTarget);\n    setSelectedDeal(deal);\n  };\n\n  // Xử lý đóng menu thao tác\n  const handleCloseMenu = () => {\n    setAnchorEl(null);\n    setSelectedDeal(null);\n  };\n\n  // Định dạng số tiền\n  const formatCurrency = (value: number) => {\n    return new Intl.NumberFormat('vi-VN', {\n      style: 'currency',\n      currency: 'VND',\n      minimumFractionDigits: 0\n    }).format(value);\n  };\n\n  // Định dạng ngày tháng\n  const formatDate = (dateString: string) => {\n    try {\n      return format(new Date(dateString), 'dd/MM/yyyy', { locale: vi });\n    } catch (error) {\n      return 'Ngày không hợp lệ';\n    }\n  };\n\n  // Lấy deals hiển thị trên trang hiện tại\n  const visibleDeals = deals.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage);\n\n  return (\n    <Paper sx={{ width: '100%', overflow: 'hidden', mb: 3 }}>\n      <TableContainer sx={{ maxHeight: 600 }}>\n        <Table stickyHeader aria-label=\"sticky table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Tên Deal</TableCell>\n              <TableCell>Khách hàng</TableCell>\n              <TableCell>Người phụ trách</TableCell>\n              <TableCell>Giá trị</TableCell>\n              <TableCell>Giai đoạn</TableCell>\n              <TableCell>Ngày tạo</TableCell>\n              <TableCell>Hạn chốt</TableCell>\n              <TableCell align=\"center\">Thao tác</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {visibleDeals.length > 0 ? (\n              visibleDeals.map((deal) => (\n                <TableRow hover key={deal.id}>\n                  <TableCell>\n                    <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                      <Typography variant=\"body1\" sx={{ fontWeight: 500 }}>\n                        {deal.name}\n                      </Typography>\n                      {deal.reminderDate && (\n                        <DealReminderBadge \n                          deadline={deal.reminderDate} \n                          reminderNote={deal.reminderNote} \n                          size=\"small\"\n                        />\n                      )}\n                    </Box>\n                    {deal.notes && (\n                      <Typography variant=\"body2\" color=\"text.secondary\" noWrap sx={{ maxWidth: 250 }}>\n                        {deal.notes}\n                      </Typography>\n                    )}\n                  </TableCell>\n                  <TableCell>{deal.customer}</TableCell>\n                  <TableCell>{deal.owner || 'Chưa xác định'}</TableCell>\n                  <TableCell>{formatCurrency(deal.value)}</TableCell>\n                  <TableCell>\n                    <DealStageChip stage={deal.stage} size=\"small\" showTooltip />\n                  </TableCell>\n                  <TableCell>{formatDate(deal.createdAt)}</TableCell>\n                  <TableCell>\n                    {deal.deadline ? formatDate(deal.deadline) : '-'}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <Box sx={{ display: 'flex', justifyContent: 'center' }}>\n                      <Tooltip title=\"Chỉnh sửa\">\n                        <IconButton size=\"small\" onClick={() => onEdit(deal)}>\n                          <EditIcon fontSize=\"small\" />\n                        </IconButton>\n                      </Tooltip>\n                      <Tooltip title=\"Xem chi tiết\">\n                        <IconButton size=\"small\" onClick={() => onView(deal)}>\n                          <VisibilityIcon fontSize=\"small\" />\n                        </IconButton>\n                      </Tooltip>\n                      <IconButton size=\"small\" onClick={(e) => handleOpenMenu(e, deal)}>\n                        <MoreVertIcon fontSize=\"small\" />\n                      </IconButton>\n                    </Box>\n                  </TableCell>\n                </TableRow>\n              ))\n            ) : (\n              <TableRow>\n                <TableCell colSpan={7} align=\"center\">\n                  <Typography variant=\"body1\" sx={{ py: 2 }}>\n                    Không có deal nào được tìm thấy\n                  </Typography>\n                </TableCell>\n              </TableRow>\n            )}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <TablePagination\n        rowsPerPageOptions={[5, 10, 25]}\n        component=\"div\"\n        count={deals.length}\n        rowsPerPage={rowsPerPage}\n        page={page}\n        onPageChange={handleChangePage}\n        onRowsPerPageChange={handleChangeRowsPerPage}\n        labelRowsPerPage=\"Số hàng mỗi trang:\"\n        labelDisplayedRows={({ from, to, count }) => `${from}-${to} của ${count}`}\n      />\n\n      {/* Menu thao tác */}\n      <Menu\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={handleCloseMenu}\n        anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n        transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      >\n        <MenuItem onClick={() => {\n          if (selectedDeal) onDuplicate(selectedDeal);\n          handleCloseMenu();\n        }}>\n          <ListItemIcon>\n            <ContentCopyIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText>Nhân bản</ListItemText>\n        </MenuItem>\n        <MenuItem onClick={() => {\n          if (selectedDeal) onDelete(selectedDeal.id);\n          handleCloseMenu();\n        }}>\n          <ListItemIcon>\n            <DeleteIcon fontSize=\"small\" color=\"error\" />\n          </ListItemIcon>\n          <ListItemText sx={{ color: 'error.main' }}>Xóa</ListItemText>\n        </MenuItem>\n      </Menu>\n    </Paper>\n  );\n};\n\nexport default DealList;\n","// Component chứa các bộ lọc tìm kiếm\n\nimport React, { useState, useEffect, useMemo, useCallback, useRef } from 'react';\nimport {\n  TextField,\n  Button,\n  Box,\n  Typography,\n  FormControl,\n  InputLabel,\n  Select,\n  SelectChangeEvent,\n  MenuItem,\n  Slider,\n  IconButton,\n  Collapse,\n  Paper,\n  InputAdornment\n} from '@mui/material';\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\n// Vietnamese locale is automatically handled by AdapterDateFns\n// Localization is handled by AdapterDateFns\nimport {\n  Search as SearchIcon,\n  FilterList as FilterListIcon,\n  Clear as ClearIcon\n} from '@mui/icons-material';\nimport { DealFilters as DealFiltersType, DealStage } from './DealTypes';\n\ninterface DealFiltersProps {\n  onFilterChange: (filters: DealFiltersType) => void;\n  initialFilters?: Partial<DealFiltersType>;\n}\n\n/**\n * Component hiển thị bộ lọc tìm kiếm deal\n */\nconst DealFilters: React.FC<DealFiltersProps> = ({ onFilterChange, initialFilters }) => {\n  // Sử dụng useMemo để tránh tạo lại object defaultFilters mỗi lần render\n  const defaultFilters = useMemo<DealFiltersType>(() => ({\n    searchTerm: '',\n    stage: 'Tất cả',\n    owner: 'Tất cả',\n    dateRange: null,\n    hasReminder: null,\n    valueRange: {\n      min: 0,\n      max: 1000000000\n    }\n  }), []);\n\n  // State lưu trữ các bộ lọc\n  const [filters, setFilters] = useState<DealFiltersType>(() => ({\n    ...defaultFilters,\n    ...initialFilters,\n    dateRange: initialFilters?.dateRange ?? null,\n    valueRange: {\n      min: initialFilters?.valueRange?.min ?? defaultFilters.valueRange.min,\n      max: initialFilters?.valueRange?.max ?? defaultFilters.valueRange.max\n    },\n    hasReminder: initialFilters?.hasReminder ?? null\n  }));\n  \n  // Sử dụng ref để lưu trữ timer cho debounce\n  const debounceTimer = useRef<ReturnType<typeof setTimeout> | undefined>(undefined);\n  \n  // Hàm debounce để tránh gọi callback quá nhiều lần\n  const debounce = useCallback((callback: () => void, delay: number) => {\n    if (debounceTimer.current) {\n      clearTimeout(debounceTimer.current);\n    }\n    debounceTimer.current = setTimeout(callback, delay);\n  }, []);\n  \n  // State hiển thị/ẩn bộ lọc nâng cao\n  const [showAdvancedFilters, setShowAdvancedFilters] = useState(false);\n  \n  // State lưu trữ giá trị slider\n  const [valueRange, setValueRange] = useState<number[]>([\n    filters.valueRange.min,\n    filters.valueRange.max\n  ]);\n\n  // Cập nhật filters khi initialFilters thay đổi\n  useEffect(() => {\n    if (initialFilters) {\n      const newFilters: DealFiltersType = {\n        ...defaultFilters,\n        ...initialFilters,\n        dateRange: initialFilters.dateRange ?? null,\n        valueRange: {\n          min: initialFilters.valueRange?.min ?? defaultFilters.valueRange.min,\n          max: initialFilters.valueRange?.max ?? defaultFilters.valueRange.max\n        },\n        hasReminder: initialFilters.hasReminder ?? null\n      };\n      setFilters(newFilters);\n      setValueRange([\n        newFilters.valueRange.min,\n        newFilters.valueRange.max\n      ]);\n    }\n  }, [initialFilters, defaultFilters]);\n\n  // Xử lý thay đổi các trường input\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    const newFilters = {\n      ...filters,\n      [name]: value\n    };\n    \n    setFilters(newFilters);\n    \n    // Tự động áp dụng bộ lọc với debounce 500ms\n    debounce(() => {\n      onFilterChange(newFilters);\n    }, 500);\n  };\n\n  // Xử lý thay đổi trường select\n  const handleSelectChange = (e: SelectChangeEvent<string>) => {\n    const { name, value } = e.target;\n    const newFilters = {\n      ...filters,\n      [name]: value\n    };\n    \n    setFilters(newFilters);\n    \n    // Tự động áp dụng bộ lọc với debounce 300ms\n    debounce(() => {\n      onFilterChange(newFilters);\n    }, 300);\n  };\n\n  // Xử lý thay đổi ngày tháng\n  const handleDateChange = (field: 'start' | 'end', date: Date | null) => {\n    const currentDateRange = filters.dateRange || { start: null, end: null };\n    \n    // Nếu date là null và field là 'end' và start cũng là null, không làm gì cả\n    if (date === null && field === 'end' && currentDateRange.start === null) {\n      return;\n    }\n    \n    const newDateRange = {\n      ...currentDateRange,\n      [field]: date\n    };\n    \n    // Nếu cả hai giá trị start và end đều null, đặt dateRange thành null\n    const updatedDateRange = (newDateRange.start === null && newDateRange.end === null) \n      ? null \n      : newDateRange;\n    \n    const newFilters = {\n      ...filters,\n      dateRange: updatedDateRange\n    };\n    \n    setFilters(newFilters);\n    \n    // Tự động áp dụng bộ lọc với debounce 300ms\n    debounce(() => {\n      onFilterChange(newFilters);\n    }, 300);\n  };\n\n  // Xử lý thay đổi giá trị slider\n  const handleValueRangeChange = (_event: Event, newValue: number | number[]) => {\n    const values = newValue as number[];\n    setValueRange(values);\n    \n    // Cập nhật filters ngay lập tức để giữ đồng bộ\n    const newFilters = {\n      ...filters,\n      valueRange: {\n        min: values[0],\n        max: values[1]\n      }\n    };\n    \n    setFilters(newFilters);\n    \n    // Tự động áp dụng bộ lọc với debounce 500ms\n    debounce(() => {\n      onFilterChange(newFilters);\n    }, 500);\n  };\n\n  // Xử lý khi thả slider\n  const handleValueRangeChangeCommitted = () => {\n    // Đảm bảo gọi lại lần cuối cùng với giá trị mới nhất\n    debounce(() => {\n      onFilterChange({\n        ...filters,\n        valueRange: {\n          min: valueRange[0],\n          max: valueRange[1]\n        }\n      });\n    }, 0);\n  };\n\n  // Xử lý khi nhấn nút tìm kiếm (đã không còn sử dụng nhưng vẫn giữ lại để tránh lỗi)\n  const handleSearch = () => {\n    onFilterChange({\n      ...filters,\n      valueRange: {\n        min: valueRange[0],\n        max: valueRange[1]\n      }\n    });\n  };\n\n  // Xử lý khi nhấn nút xóa bộ lọc\n  const handleClearFilters = () => {\n    const resetFilters = {\n      ...defaultFilters,\n      dateRange: null,\n      hasReminder: null\n    };\n    \n    setFilters(resetFilters);\n    setValueRange([\n      defaultFilters.valueRange.min, \n      defaultFilters.valueRange.max\n    ]);\n    \n    // Xóa timer debounce hiện tại\n    if (debounceTimer.current) {\n      clearTimeout(debounceTimer.current);\n    }\n    \n    // Áp dụng bộ lọc mới ngay lập tức\n    onFilterChange(resetFilters);\n  };\n  \n  // Cleanup timer khi unmount\n  useEffect(() => {\n    return () => {\n      if (debounceTimer.current) {\n        clearTimeout(debounceTimer.current);\n      }\n    };\n  }, []);\n\n  // Định dạng giá trị tiền\n  const formatCurrency = (value: number) => {\n    return new Intl.NumberFormat('vi-VN', {\n      style: 'currency',\n      currency: 'VND',\n      minimumFractionDigits: 0\n    }).format(value);\n  };\n\n  // Danh sách các giai đoạn deal\n  const stageOptions = [\n    { value: 'Tất cả', label: 'Tất cả giai đoạn' },\n    { value: DealStage.INITIAL_CONTACT, label: 'Liên hệ ban đầu' },\n    { value: DealStage.REQUIREMENT_RECORDED, label: 'Đã ghi nhận yêu cầu' },\n    { value: DealStage.QUOTE_SENT, label: 'Đã gửi báo giá' },\n    { value: DealStage.CONTRACT_SENT, label: 'Đã gửi hợp đồng' },\n    { value: DealStage.CLOSED_WON, label: 'Đã chốt' },\n    { value: DealStage.CLOSED_LOST, label: 'Đã hủy' }\n  ];\n\n  return (\n    <Paper sx={{ p: 2, mb: 3 }}>\n      <Box sx={{ mb: 2, display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n        <Typography variant=\"h6\" component=\"div\">\n          Tìm kiếm Deal\n        </Typography>\n        <Button\n          startIcon={<FilterListIcon />}\n          onClick={() => setShowAdvancedFilters(!showAdvancedFilters)}\n          color=\"primary\"\n        >\n          {showAdvancedFilters ? 'Ẩn bộ lọc nâng cao' : 'Bộ lọc nâng cao'}\n        </Button>\n      </Box>\n\n      {/* Bộ lọc cơ bản */}\n      <Box sx={{\n        display: 'grid',\n        gridTemplateColumns: { xs: '1fr', md: 'repeat(2, 1fr)' },\n        gap: 2,\n        mb: 2\n      }}>\n        <Box>\n          <TextField\n            fullWidth\n            name=\"searchTerm\"\n            label=\"Tìm kiếm theo tên, mô tả...\"\n            value={filters.searchTerm}\n            onChange={handleInputChange}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon />\n                </InputAdornment>\n              ),\n              endAdornment: filters.searchTerm ? (\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    size=\"small\"\n                    onClick={() => setFilters(prev => ({ ...prev, searchTerm: '' }))}\n                  >\n                    <ClearIcon fontSize=\"small\" />\n                  </IconButton>\n                </InputAdornment>\n              ) : null\n            }}\n          />\n        </Box>\n        <Box>\n          <FormControl fullWidth>\n            <InputLabel id=\"stage-select-label\">Giai đoạn</InputLabel>\n            <Select\n              labelId=\"stage-select-label\"\n              name=\"stage\"\n              value={filters.stage}\n              label=\"Giai đoạn\"\n              onChange={handleSelectChange}\n            >\n              {stageOptions.map((option) => (\n                <MenuItem key={option.value} value={option.value}>\n                  {option.label}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </Box>\n        <Box sx={{ \n          display: 'flex', \n          alignItems: 'center',\n          gridColumn: { xs: '1 / -1', md: 'auto' }\n        }}>\n          {/* Đã xóa nút Tìm kiếm */}\n        </Box>\n      </Box>\n\n      {/* Bộ lọc nâng cao */}\n      <Collapse in={showAdvancedFilters}>\n        <Box sx={{ mt: 3 }}>\n          <Box sx={{\n            display: 'grid',\n            gridTemplateColumns: { xs: '1fr', md: 'repeat(2, 1fr)' },\n            gap: 2\n          }}>\n            <Box sx={{ gridColumn: '1 / -1' }}>\n              <Typography gutterBottom>Giá trị Deal</Typography>\n              <Box sx={{ px: 2 }}>\n                <Slider\n                  value={valueRange}\n                  onChange={handleValueRangeChange}\n                  onChangeCommitted={handleValueRangeChangeCommitted}\n                  valueLabelDisplay=\"auto\"\n                  valueLabelFormat={(value) => formatCurrency(value)}\n                  min={0}\n                  max={1000000000}\n                  step={10000000}\n                />\n                <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 1 }}>\n                  <Typography variant=\"body2\">{formatCurrency(valueRange[0])}</Typography>\n                  <Typography variant=\"body2\">{formatCurrency(valueRange[1])}</Typography>\n                </Box>\n              </Box>\n            </Box>\n            <Box>\n              <LocalizationProvider dateAdapter={AdapterDateFns}>\n                <DatePicker\n                  label=\"Từ ngày\"\n                  value={filters.dateRange?.start || null}\n                  onChange={(date) => handleDateChange('start', date)}\n                  slotProps={{ textField: { fullWidth: true } }}\n                />\n              </LocalizationProvider>\n            </Box>\n            <Box>\n              <LocalizationProvider dateAdapter={AdapterDateFns}>\n                <DatePicker\n                  label=\"Đến ngày\"\n                  value={filters.dateRange?.end || null}\n                  onChange={(date) => handleDateChange('end', date)}\n                  slotProps={{ textField: { fullWidth: true } }}\n                  minDate={filters.dateRange?.start || undefined}\n                  disabled={!filters.dateRange?.start}\n                />\n              </LocalizationProvider>\n            </Box>\n            <Box sx={{\n              gridColumn: '1 / -1',\n              display: 'flex',\n              justifyContent: 'flex-end',\n              mt: 2\n            }}>\n              <Button\n                variant=\"outlined\"\n                color=\"secondary\"\n                onClick={handleClearFilters}\n                startIcon={<ClearIcon />}\n                sx={{ mr: 1 }}\n              >\n                Xóa bộ lọc\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleSearch}\n                startIcon={<SearchIcon />}\n              >\n                Áp dụng\n              </Button>\n            </Box>\n          </Box>\n        </Box>\n      </Collapse>\n    </Paper>\n  );\n};\n\nexport default DealFilters;\n","import React, { useState, useEffect, useMemo } from 'react';\nimport {\n  Dialog, DialogActions, DialogContent, DialogTitle, Button, TextField, \n  FormControl, InputLabel, Select, MenuItem, Divider, Typography, \n  Box, Switch, FormControlLabel, InputAdornment, FormHelperText\n} from '@mui/material';\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport { Deal, DealFormData, DealStage } from './DealTypes';\n\ninterface DealFormProps {\n  open: boolean;\n  onClose: () => void;\n  onSubmit: (dealData: DealFormData) => void;\n  initialData?: Deal;\n  title?: string;\n}\n\n/**\n * Component form thêm/sửa deal\n */\nconst DealForm: React.FC<DealFormProps> = ({\n  open,\n  onClose,\n  onSubmit,\n  initialData,\n  title = 'Thêm Deal mới'\n}) => {\n  // Khởi tạo giá trị mặc định cho form sử dụng useMemo để tránh tạo mới mỗi lần render\n  const defaultFormData = useMemo<DealFormData>(() => ({\n    name: '',\n    customer: '',\n    value: 0,\n    stage: DealStage.INITIAL_CONTACT,\n    notes: '',\n    deadline: '',\n    owner: '',\n    hasReminder: false,\n    reminderDate: undefined,\n    reminderNote: ''\n  }), []);\n\n  // State lưu trữ dữ liệu form\n  const [formData, setFormData] = useState<DealFormData>(defaultFormData);\n  \n  // State lưu trữ lỗi validation\n  const [errors, setErrors] = useState<Record<string, string>>({});\n\n  // Cập nhật form data khi initialData thay đổi\n  useEffect(() => {\n    if (initialData) {\n      setFormData({\n        name: initialData.name,\n        customer: initialData.customer,\n        value: initialData.value,\n        stage: initialData.stage,\n        notes: initialData.notes || '',\n        deadline: initialData.deadline || '',\n        owner: initialData.owner || '',\n        hasReminder: !!initialData.reminderDate,\n        reminderDate: initialData.reminderDate,\n        reminderNote: initialData.reminderNote || ''\n      });\n    } else {\n      setFormData(defaultFormData);\n    }\n    setErrors({});\n  }, [initialData, defaultFormData]);\n\n  // Xử lý thay đổi các trường input\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    \n    // Xóa lỗi khi người dùng sửa trường\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  // Xử lý thay đổi select\n  const handleSelectChange = (event: { target: { name: string; value: DealStage } }) => {\n    const { name, value } = event.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // Xử lý thay đổi ngày\n  const handleDateChange = (name: 'deadline' | 'reminderDate', date: Date | null) => {\n    setFormData(prev => ({\n      ...prev,\n      [name]: date?.toISOString() || ''\n    }));\n    \n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  // Xử lý bật/tắt nhắc việc\n  const handleReminderToggle = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const checked = e.target.checked;\n    setFormData(prev => ({\n      ...prev,\n      hasReminder: checked,\n      // Nếu tắt nhắc việc, xóa dữ liệu nhắc việc\n      reminderDate: checked ? prev.reminderDate : undefined,\n      reminderNote: checked ? prev.reminderNote : ''\n    }));\n  };\n\n  // Kiểm tra dữ liệu hợp lệ\n  const validateForm = () => {\n    const newErrors: Record<string, string> = {};\n    \n    if (!formData.name.trim()) {\n      newErrors.name = 'Vui lòng nhập tên deal';\n    }\n    \n    if (!formData.customer.trim()) {\n      newErrors.customer = 'Vui lòng nhập tên khách hàng';\n    }\n    \n    if (formData.value <= 0) {\n      newErrors.value = 'Giá trị deal phải lớn hơn 0';\n    }\n    \n    // Kiểm tra ngày nhắc việc nếu bật nhắc việc\n    if (formData.hasReminder && !formData.reminderDate) {\n      newErrors.reminderDate = 'Vui lòng chọn ngày nhắc việc';\n    }\n    \n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  // Xử lý gửi form\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (validateForm()) {\n      onSubmit(formData);\n    }\n  };\n  \n\n\n  // Danh sách các giai đoạn deal\n  const stageOptions = [\n    { value: DealStage.INITIAL_CONTACT, label: 'Liên hệ ban đầu' },\n    { value: DealStage.REQUIREMENT_RECORDED, label: 'Đã ghi nhận yêu cầu' },\n    { value: DealStage.QUOTE_SENT, label: 'Đã gửi báo giá' },\n    { value: DealStage.CONTRACT_SENT, label: 'Gửi hợp đồng' },\n    { value: DealStage.CLOSED_WON, label: 'Đã chốt' },\n    { value: DealStage.CLOSED_LOST, label: 'Đã huỷ' }\n  ];\n\n  return (\n    <Dialog open={open} onClose={onClose} maxWidth=\"md\" fullWidth>\n      <DialogTitle>\n        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n          <Typography variant=\"h6\">{title}</Typography>\n        </Box>\n      </DialogTitle>\n      \n      <Divider />\n      \n      <DialogContent>\n        <form onSubmit={handleSubmit}>\n          <Box sx={{\n            display: 'grid',\n            gridTemplateColumns: { xs: '1fr', md: 'repeat(2, 1fr)' },\n            gap: 2,\n            py: 2\n          }}>\n            {/* Thông tin cơ bản */}\n            <Box sx={{ gridColumn: '1 / -1' }}>\n              <Typography variant=\"subtitle1\" fontWeight=\"bold\" gutterBottom>\n                Thông tin cơ bản\n              </Typography>\n            </Box>\n            \n            <Box>\n              <TextField\n                fullWidth\n                label=\"Tên Deal *\"\n                name=\"name\"\n                value={formData.name}\n                onChange={handleInputChange}\n                error={!!errors.name}\n                helperText={errors.name}\n              />\n            </Box>\n            \n            <Box>\n              <TextField\n                fullWidth\n                label=\"Khách hàng *\"\n                name=\"customer\"\n                value={formData.customer}\n                onChange={handleInputChange}\n                error={!!errors.customer}\n                helperText={errors.customer}\n              />\n            </Box>\n            \n            <Box>\n              <TextField\n                fullWidth\n                label=\"Giá trị Deal *\"\n                name=\"value\"\n                type=\"number\"\n                value={formData.value}\n                onChange={handleInputChange}\n                InputProps={{\n                  startAdornment: <InputAdornment position=\"start\">đ</InputAdornment>,\n                }}\n                error={!!errors.value}\n                helperText={errors.value}\n              />\n            </Box>\n            \n            <Box>\n              <FormControl fullWidth error={!!errors.stage}>\n                <InputLabel id=\"stage-select-label\">Giai đoạn *</InputLabel>\n                <Select\n                  labelId=\"stage-select-label\"\n                  name=\"stage\"\n                  value={formData.stage}\n                  label=\"Giai đoạn *\"\n                  onChange={handleSelectChange}\n                >\n                  {stageOptions.map((option) => (\n                    <MenuItem key={option.value} value={option.value}>\n                      {option.label}\n                    </MenuItem>\n                  ))}\n                </Select>\n                {errors.stage && <FormHelperText>{errors.stage}</FormHelperText>}\n              </FormControl>\n            </Box>\n            \n            <Box>\n              <TextField\n                fullWidth\n                label=\"Chủ sở hữu *\"\n                name=\"owner\"\n                value={formData.owner}\n                onChange={handleInputChange}\n                error={!!errors.owner}\n                helperText={errors.owner}\n              />\n            </Box>\n            \n            <Box sx={{ gridColumn: '1 / -1' }}>\n              <TextField\n                fullWidth\n                label=\"Mô tả\"\n                name=\"notes\"\n                value={formData.notes}\n                onChange={handleInputChange}\n                multiline\n                rows={3}\n              />\n            </Box>\n            \n            <Box>\n              <LocalizationProvider dateAdapter={AdapterDateFns}>\n                <DatePicker\n                  label=\"Hạn chốt\"\n                  value={formData.deadline ? new Date(formData.deadline) : null}\n                  onChange={(date) => handleDateChange('deadline', date)}\n                  slotProps={{ textField: { fullWidth: true } }}\n                />\n              </LocalizationProvider>\n            </Box>\n            \n            {/* Phần nhắc việc */}\n            <Box sx={{ gridColumn: '1 / -1', mt: 2 }}>\n              <Divider />\n              <Box sx={{ display: 'flex', alignItems: 'center', mt: 2 }}>\n                <Typography variant=\"subtitle1\" fontWeight=\"bold\">\n                  Nhắc việc\n                </Typography>\n                <FormControlLabel\n                  control={\n                    <Switch\n                      checked={formData.hasReminder}\n                      onChange={handleReminderToggle}\n                      color=\"primary\"\n                    />\n                  }\n                  label={formData.hasReminder ? 'Đã bật' : 'Tắt'}\n                  sx={{ ml: 2 }}\n                />\n              </Box>\n            </Box>\n            \n            {formData.hasReminder && (\n              <>\n                <Box>\n                  <LocalizationProvider dateAdapter={AdapterDateFns}>\n                    <DatePicker\n                      label=\"Ngày nhắc việc *\"\n                      value={formData.reminderDate ? new Date(formData.reminderDate) : null}\n                      onChange={(date) => handleDateChange('reminderDate', date)}\n                      slotProps={{\n                        textField: {\n                          fullWidth: true,\n                          error: !!errors.reminderDate,\n                          helperText: errors.reminderDate\n                        }\n                      }}\n                      minDate={new Date()}\n                    />\n                  </LocalizationProvider>\n                </Box>\n                \n                <Box sx={{ gridColumn: '1 / -1' }}>\n                  <TextField\n                    fullWidth\n                    label=\"Ghi chú nhắc việc\"\n                    name=\"reminderNote\"\n                    value={formData.reminderNote}\n                    onChange={handleInputChange}\n                    multiline\n                    rows={3}\n                  />\n                </Box>\n              </>\n            )}\n          </Box>\n        </form>\n      </DialogContent>\n      \n      <Divider />\n      \n      <DialogActions sx={{ px: 3, py: 2 }}>\n        <Button onClick={onClose} variant=\"outlined\" color=\"inherit\">\n          Hủy\n        </Button>\n        <Button type=\"submit\" form=\"deal-form\" variant=\"contained\" color=\"primary\">\n          {initialData ? 'Cập nhật' : 'Thêm mới'}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default DealForm;\n","import React from 'react';\nimport { Card, CardContent, Typography, Box } from '@mui/material';\nimport { \n  AttachMoney as AttachMoneyIcon,\n  Timeline as TimelineIcon,\n  Assignment as AssignmentIcon,\n  CheckCircle as CheckCircleIcon,\n  CalendarToday as CalendarTodayIcon,\n  AccessTime as AccessTimeIcon\n} from '@mui/icons-material';\nimport { Deal, DealStage, STAGE_WEIGHTS } from './DealTypes';\n\ninterface DealStatsProps {\n  deals: Deal[];\n}\n\n/**\n * Component hiển thị các chỉ số tổng quan của deal\n */\nconst DealStats: React.FC<DealStatsProps> = ({ deals }) => {\n  // Tính toán các chỉ số tổng quan\n  const calculateStats = () => {\n    const today = new Date();\n    const currentMonth = today.getMonth();\n    const currentYear = today.getFullYear();\n    \n    // Giá trị ban đầu\n    const stats = {\n      totalDealAmount: 0,\n      weightedDealAmount: 0,\n      openDealAmount: 0,\n      closedDealAmount: 0,\n      newDealsThisMonth: 0,\n      totalDealAgeInDays: 0,\n      dealCount: 0\n    };\n    \n    deals.forEach(deal => {\n      // Tổng giá trị deal\n      stats.totalDealAmount += deal.value;\n      \n      // Tổng giá trị deal có trọng số\n      const stage = deal.stage as DealStage;\n      stats.weightedDealAmount += deal.value * STAGE_WEIGHTS[stage];\n      \n      // Giá trị deal đang mở và đã chốt\n      if (stage === DealStage.CLOSED_WON) {\n        stats.closedDealAmount += deal.value;\n      } else if (stage !== DealStage.CLOSED_LOST) {\n        stats.openDealAmount += deal.value;\n      }\n      \n      // Số deal mới trong tháng\n      const createdDate = new Date(deal.createdAt);\n      if (createdDate.getMonth() === currentMonth && createdDate.getFullYear() === currentYear) {\n        stats.newDealsThisMonth++;\n      }\n      \n      // Tính tuổi trung bình deal\n      const createdTime = new Date(deal.createdAt).getTime();\n      const currentTime = today.getTime();\n      const ageInDays = Math.floor((currentTime - createdTime) / (1000 * 60 * 60 * 24));\n      stats.totalDealAgeInDays += ageInDays;\n      stats.dealCount++;\n    });\n    \n    // Tính tuổi trung bình deal\n    const averageDealAge = stats.dealCount > 0 ? Math.round(stats.totalDealAgeInDays / stats.dealCount) : 0;\n    \n    return {\n      totalDealAmount: stats.totalDealAmount,\n      weightedDealAmount: stats.weightedDealAmount,\n      openDealAmount: stats.openDealAmount,\n      closedDealAmount: stats.closedDealAmount,\n      newDealsThisMonth: stats.newDealsThisMonth,\n      averageDealAge\n    };\n  };\n  \n  const stats = calculateStats();\n  \n  // Định dạng số tiền\n  const formatCurrency = (value: number) => {\n    return new Intl.NumberFormat('vi-VN', {\n      style: 'currency',\n      currency: 'VND',\n      minimumFractionDigits: 0\n    }).format(value);\n  };\n  \n  // Danh sách các chỉ số hiển thị\n  const statItems = [\n    {\n      title: 'Tổng giá trị Deal',\n      value: formatCurrency(stats.totalDealAmount),\n      icon: <AttachMoneyIcon fontSize=\"large\" sx={{ color: '#1976d2' }} />\n    },\n    {\n      title: 'Tổng giá trị Deal có trọng số',\n      value: formatCurrency(stats.weightedDealAmount),\n      icon: <TimelineIcon fontSize=\"large\" sx={{ color: '#7b1fa2' }} />\n    },\n    {\n      title: 'Giá trị Deal đang mở',\n      value: formatCurrency(stats.openDealAmount),\n      icon: <AssignmentIcon fontSize=\"large\" sx={{ color: '#ff9800' }} />\n    },\n    {\n      title: 'Giá trị Deal đã chốt',\n      value: formatCurrency(stats.closedDealAmount),\n      icon: <CheckCircleIcon fontSize=\"large\" sx={{ color: '#4caf50' }} />\n    },\n    {\n      title: 'Số Deal mới trong tháng',\n      value: `${stats.newDealsThisMonth} deal`,\n      icon: <CalendarTodayIcon fontSize=\"large\" sx={{ color: '#f57c00' }} />\n    },\n    {\n      title: 'Tuổi trung bình Deal',\n      value: `${stats.averageDealAge} ngày`,\n      icon: <AccessTimeIcon fontSize=\"large\" sx={{ color: '#d32f2f' }} />\n    }\n  ];\n\n  return (\n    <Box sx={{ mb: 3 }}>\n      <Box sx={{ display: 'grid', gridTemplateColumns: {\n        xs: '1fr',\n        sm: '1fr 1fr',\n        md: '1fr 1fr 1fr',\n        lg: 'repeat(6, 1fr)'\n      }, gap: 2 }}>\n        {statItems.map((item, index) => (\n          <Card sx={{ height: '100%', boxShadow: 2 }} key={`stat-item-${index}`}>\n            <CardContent>\n              <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                {item.icon}\n                <Typography variant=\"h6\" component=\"div\" sx={{ ml: 1, fontWeight: 500 }}>\n                  {item.title}\n                </Typography>\n              </Box>\n              <Typography variant=\"h5\" component=\"div\" sx={{ fontWeight: 'bold', mt: 1 }}>\n                {item.value}\n              </Typography>\n            </CardContent>\n          </Card>\n        ))}\n      </Box>\n    </Box>\n  );\n};\n\nexport default DealStats;\n","// Component hiển thị danh sách nhắc việc\n\nimport React, { useState, useMemo } from 'react';\nimport {\n  Box,\n  Card,\n  CardHeader,\n  CardContent,\n  Typography,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemIcon,\n  ListItemSecondaryAction,\n  IconButton,\n  Tooltip,\n  Divider,\n  Badge,\n  Chip,\n  Button,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  TextField,\n  FormControlLabel,\n  Switch,\n  useTheme,\n  MenuItem,\n  Select,\n  SelectChangeEvent\n} from '@mui/material';\nimport {\n  Notifications as NotificationsIcon,\n  NotificationsActive as NotificationsActiveIcon,\n  Check as CheckIcon,\n  Edit as EditIcon,\n  Delete as DeleteIcon,\n  MoreVert as MoreVertIcon,\n  Close as CloseIcon\n} from '@mui/icons-material';\nimport { format, isToday, isTomorrow, differenceInDays } from 'date-fns';\nimport { vi } from 'date-fns/locale';\nimport { Deal, DealStage } from './DealTypes';\nimport DealStageChip from './DealStageChip';\n\ninterface DealReminderItem extends Deal {\n  daysUntilDeadline: number;\n}\n\ninterface DealRemindersProps {\n  deals: Deal[];\n  onViewDeal: (dealId: number) => void;\n  onEditDeal: (dealId: number) => void;\n  onMarkComplete: (dealId: number) => void;\n  onStageChange?: (dealId: number, newStage: DealStage) => void;\n  onRemindersCountChange?: (count: number) => void;\n}\n\n/**\n * Component hiển thị danh sách nhắc việc cho các deal sắp đến hạn\n */\nconst DealReminders: React.FC<DealRemindersProps> = ({\n  deals,\n  onViewDeal,\n  onEditDeal,\n  onMarkComplete,\n  onStageChange,\n  onRemindersCountChange\n}) => {\n  const theme = useTheme();\n  const [selectedReminder, setSelectedReminder] = useState<DealReminderItem | null>(null);\n  const [reminderDialogOpen, setReminderDialogOpen] = useState(false);\n  const [reminderNote, setReminderNote] = useState('');\n  const [reminderCompleted, setReminderCompleted] = useState(false);\n\n  // Lọc và sắp xếp các deal có nhắc việc hoặc đến hạn trong 7 ngày tới\n  const reminders = useMemo(() => {\n    const now = new Date();\n    const reminderItems: DealReminderItem[] = deals\n      .filter(deal => {\n        // Lọc các deal có nhắc việc hoặc đến hạn trong 7 ngày tới\n        if (!deal.deadline && !deal.reminderDate) return false;\n        \n        const deadlineDate = deal.deadline ? new Date(deal.deadline) : null;\n        const reminderDate = deal.reminderDate ? new Date(deal.reminderDate) : null;\n        \n        // Tính số ngày còn lại đến hạn chốt\n        const daysUntilDeadline = deadlineDate \n          ? differenceInDays(deadlineDate, now)\n          : Infinity;\n        \n        // Tính số ngày còn lại đến ngày nhắc việc\n        const daysUntilReminder = reminderDate\n          ? differenceInDays(reminderDate, now)\n          : Infinity;\n        \n        // Chỉ hiển thị các deal có hạn chốt hoặc nhắc việc trong 7 ngày tới\n        // Và không hiển thị các deal đã đóng\n        return (\n          (daysUntilDeadline >= 0 && daysUntilDeadline <= 7) || \n          (daysUntilReminder >= 0 && daysUntilReminder <= 7)\n        ) && \n        deal.stage !== DealStage.CLOSED_WON && \n        deal.stage !== DealStage.CLOSED_LOST;\n      })\n      .map(deal => {\n        const deadlineDate = deal.deadline ? new Date(deal.deadline) : null;\n        const daysUntilDeadline = deadlineDate \n          ? differenceInDays(deadlineDate, now)\n          : Infinity;\n        \n        return {\n          ...deal,\n          daysUntilDeadline\n        };\n      });\n    \n    // Sắp xếp theo thứ tự ưu tiên: các deal gần đến hạn nhất lên đầu\n    return reminderItems.sort((a, b) => a.daysUntilDeadline - b.daysUntilDeadline);\n  }, [deals]);\n\n  // Xử lý khi click vào một nhắc việc\n  const handleReminderClick = (reminder: DealReminderItem) => {\n    setSelectedReminder(reminder);\n    setReminderNote(reminder.reminderNote || '');\n    setReminderCompleted(false);\n    setReminderDialogOpen(true);\n  };\n\n  // Đóng dialog chi tiết nhắc việc\n  const handleCloseDialog = () => {\n    setReminderDialogOpen(false);\n    setSelectedReminder(null);\n  };\n\n  // Đánh dấu hoàn thành nhắc việc\n  const handleMarkComplete = () => {\n    if (selectedReminder) {\n      onMarkComplete(selectedReminder.id);\n      handleCloseDialog();\n    }\n  };\n\n  // Hiển thị ngày tháng theo định dạng phù hợp\n  const formatDate = (date: Date | null | string): string => {\n    if (!date) return '';\n    \n    const dateObj = typeof date === 'string' ? new Date(date) : date;\n    \n    if (isToday(dateObj)) {\n      return 'Hôm nay';\n    } else if (isTomorrow(dateObj)) {\n      return 'Ngày mai';\n    } else {\n      return format(dateObj, 'dd/MM/yyyy', { locale: vi });\n    }\n  };\n\n  // Hiển thị thông báo khi không có nhắc việc nào\n  if (reminders.length === 0) {\n    return (\n      <Card variant=\"outlined\" sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\n        <CardHeader\n          title={\n            <Box sx={{ display: 'flex', alignItems: 'center' }}>\n              <NotificationsIcon sx={{ mr: 1, color: theme.palette.text.secondary }} />\n              <Typography variant=\"h6\">Nhắc việc</Typography>\n            </Box>\n          }\n        />\n        <Divider />\n        <CardContent sx={{ flexGrow: 1, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n          <Typography variant=\"body1\" color=\"text.secondary\" align=\"center\">\n            Không có nhắc việc nào trong 7 ngày tới\n          </Typography>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <>\n      <Card variant=\"outlined\" sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\n        <CardHeader\n          title={\n            <Box sx={{ display: 'flex', alignItems: 'center' }}>\n              <Badge badgeContent={reminders.length} color=\"error\" sx={{ mr: 1 }}>\n                <NotificationsActiveIcon color=\"primary\" />\n              </Badge>\n              <Typography variant=\"h6\">Nhắc việc</Typography>\n            </Box>\n          }\n          action={\n            <Tooltip title=\"Xem tất cả nhắc việc\">\n              <IconButton size=\"small\">\n                <MoreVertIcon />\n              </IconButton>\n            </Tooltip>\n          }\n        />\n        <Divider />\n        <CardContent sx={{ p: 0, flexGrow: 1, overflow: 'auto', maxHeight: 400 }}>\n          <List disablePadding>\n            {reminders.map((reminder, index) => {\n              const isUrgent = reminder.daysUntilDeadline <= 2;\n              \n              return (\n                <React.Fragment key={reminder.id}>\n                  {index > 0 && <Divider />}\n                  <ListItem\n                    component=\"div\"\n                    onClick={() => handleReminderClick(reminder)}\n                    sx={{\n                      py: 1.5,\n                      backgroundColor: isUrgent ? 'error.50' : 'inherit',\n                      cursor: 'pointer',\n                      '&:hover': {\n                        backgroundColor: isUrgent ? 'error.100' : 'action.hover',\n                      }\n                    }}\n                  >\n                    <ListItemIcon sx={{ minWidth: 40 }}>\n                      <NotificationsIcon \n                        color={isUrgent ? \"error\" : \"action\"} \n                        sx={{ animation: isUrgent ? 'pulse 1.5s infinite' : 'none' }}\n                      />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={\n                        <Typography variant=\"body1\" noWrap>\n                          {reminder.name}\n                        </Typography>\n                      }\n                      secondary={\n                        <Box sx={{ display: 'flex', flexDirection: 'column', mt: 0.5 }}>\n                          <Typography variant=\"body2\" color=\"text.secondary\" noWrap>\n                            {reminder.customer}\n                          </Typography>\n                          <Box sx={{ display: 'flex', alignItems: 'center', mt: 0.5, flexWrap: 'wrap', gap: 0.5 }}>\n                            <Chip \n                              label={\n                                <Typography variant=\"caption\">\n                                  Hạn chốt: {formatDate(reminder.deadline)}\n                                </Typography>\n                              }\n                              size=\"small\"\n                              color={isUrgent ? \"error\" : \"default\"}\n                              variant=\"outlined\"\n                            />\n                          </Box>\n                        </Box>\n                      }\n                      primaryTypographyProps={{ variant: 'body1' }}\n                      secondaryTypographyProps={{ component: 'div' }}\n                    />\n                    <ListItemSecondaryAction sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                      <Select\n                        value={reminder.stage}\n                        onChange={(e: SelectChangeEvent<DealStage>) => {\n                          if (onStageChange) {\n                            onStageChange(reminder.id, e.target.value as DealStage);\n                          }\n                        }}\n                        size=\"small\"\n                        sx={{ \n                          minWidth: 150,\n                          '& .MuiSelect-select': { \n                            py: 0.5,\n                            display: 'flex',\n                            alignItems: 'center'\n                          }\n                        }}\n                        renderValue={(selected) => (\n                          <DealStageChip \n                            stage={selected as DealStage} \n                            size=\"small\" \n                            showTooltip={false} \n                          />\n                        )}\n                      >\n                        {Object.values(DealStage).map((stage) => (\n                          <MenuItem key={stage} value={stage}>\n                            <DealStageChip stage={stage} size=\"small\" showTooltip={false} />\n                            <Box component=\"span\" sx={{ ml: 1 }}>\n                              {stage}\n                            </Box>\n                          </MenuItem>\n                        ))}\n                      </Select>\n                    </ListItemSecondaryAction>\n                  </ListItem>\n                </React.Fragment>\n              );\n            })}\n          </List>\n        </CardContent>\n      </Card>\n\n      {/* Dialog hiển thị chi tiết nhắc việc */}\n      <Dialog\n        open={reminderDialogOpen}\n        onClose={handleCloseDialog}\n        maxWidth=\"sm\"\n        fullWidth\n        PaperProps={{\n          sx: { borderRadius: 2 }\n        }}\n      >\n        {selectedReminder && (\n          <>\n            <DialogTitle sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', pb: 1 }}>\n              <Typography variant=\"h6\">Chi tiết nhắc việc</Typography>\n              <IconButton onClick={handleCloseDialog} size=\"small\">\n                <CloseIcon />\n              </IconButton>\n            </DialogTitle>\n            \n            <Divider />\n            \n            <DialogContent sx={{ py: 2 }}>\n              <Box sx={{ mb: 2 }}>\n                <Typography variant=\"subtitle1\" fontWeight=\"bold\">\n                  {selectedReminder.name}\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  Khách hàng: {selectedReminder.customer}\n                </Typography>\n              </Box>\n              \n              <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1, mb: 2 }}>\n                <DealStageChip stage={selectedReminder.stage} />\n                <Chip \n                  label={`Giá trị: ${selectedReminder.value.toLocaleString('vi-VN')} VND`}\n                  variant=\"outlined\"\n                />\n              </Box>\n              \n              <Box sx={{ mb: 2 }}>\n                <Typography variant=\"body2\">\n                  <strong>Hạn chốt:</strong> {formatDate(selectedReminder.deadline)}\n                  {selectedReminder.daysUntilDeadline <= 3 && (\n                    <Chip \n                      label={`Còn ${selectedReminder.daysUntilDeadline} ngày`}\n                      color=\"error\"\n                      size=\"small\"\n                      sx={{ ml: 1 }}\n                    />\n                  )}\n                </Typography>\n              </Box>\n              \n              {selectedReminder.notes && (\n                <Box sx={{ mb: 2 }}>\n                  <Typography variant=\"body2\">\n                    <strong>Ghi chú:</strong>\n                  </Typography>\n                  <Typography variant=\"body2\" sx={{ whiteSpace: 'pre-wrap' }}>\n                    {selectedReminder.notes}\n                  </Typography>\n                </Box>\n              )}\n              \n              <Divider sx={{ my: 2 }} />\n              \n              <Box>\n                <Typography variant=\"subtitle2\" gutterBottom>\n                  Ghi chú nhắc việc:\n                </Typography>\n                <TextField\n                  fullWidth\n                  multiline\n                  rows={3}\n                  value={reminderNote}\n                  onChange={(e) => setReminderNote(e.target.value)}\n                  placeholder=\"Thêm ghi chú cho nhắc việc này...\"\n                  variant=\"outlined\"\n                  size=\"small\"\n                />\n              </Box>\n              \n              <Box sx={{ mt: 2 }}>\n                <FormControlLabel\n                  control={\n                    <Switch\n                      checked={reminderCompleted}\n                      onChange={(e) => setReminderCompleted(e.target.checked)}\n                    />\n                  }\n                  label=\"Đánh dấu đã hoàn thành\"\n                />\n              </Box>\n            </DialogContent>\n            \n            <Divider />\n            \n            <DialogActions sx={{ px: 3, py: 2 }}>\n              <Button\n                startIcon={<DeleteIcon />}\n                color=\"inherit\"\n                onClick={handleCloseDialog}\n              >\n                Đóng\n              </Button>\n              \n              <Button\n                startIcon={<EditIcon />}\n                variant=\"outlined\"\n                color=\"primary\"\n                onClick={() => {\n                  onEditDeal(selectedReminder.id);\n                  handleCloseDialog();\n                }}\n              >\n                Chỉnh sửa Deal\n              </Button>\n              \n              <Button\n                startIcon={<CheckIcon />}\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleMarkComplete}\n                disabled={!reminderCompleted}\n              >\n                Hoàn thành\n              </Button>\n            </DialogActions>\n          </>\n        )}\n      </Dialog>\n    </>\n  );\n};\n\nexport default DealReminders;\n","import React, { useState, useMemo, useCallback, useEffect } from 'react';\nimport { Box, Typography, Button, Paper, Dialog, DialogTitle, DialogContent, DialogActions, Tabs, Tab, Badge, Chip } from '@mui/material';\nimport { \n  Add as AddIcon, \n  FilterList as FilterListIcon, \n  Notifications as NotificationsIcon,\n  SmartToy as SmartToyIcon \n} from '@mui/icons-material';\nimport { Deal, DealStage, DealFilters as DealFiltersType } from './components/DealTypes';\nimport SmartFilter from './components/SmartFilter';\nimport DealList from './components/DealList';\nimport DealFilters from './components/DealFilters';\nimport DealForm from './components/DealForm';\nimport DealStats from './components/DealStats';\nimport DealReminders from './components/DealReminders';\n\n// Tạo dữ liệu giả\nconst createFakeDeals = (count: number): Deal[] => {\n  const stages = Object.values(DealStage);\n  const owners = ['Nguyễn Văn A', 'Trần Thị B', 'Lê Văn C', 'Phạm Thị D'];\n  \n  return Array.from({ length: count }, (_, i) => ({\n    id: i + 1,\n    name: `Deal ${i + 1}`,\n    customer: `Công ty ${String.fromCharCode(65 + (i % 5))}`,\n    stage: stages[Math.floor(Math.random() * stages.length)],\n    value: Math.floor(Math.random() * 100000000) + 10000000, // 10M - 110M\n    deadline: new Date(Date.now() + Math.floor(Math.random() * 30) * 24 * 60 * 60 * 1000).toISOString(),\n    owner: owners[Math.floor(Math.random() * owners.length)],\n    notes: `Ghi chú cho deal ${i + 1}`,\n    createdAt: new Date().toISOString(),\n    hasReminder: Math.random() > 0.5,\n    reminderNote: Math.random() > 0.7 ? `Nhắc nhở cho deal ${i + 1}` : undefined,\n    reminderDate: Math.random() > 0.7 ? new Date(Date.now() + Math.random() * 30 * 24 * 60 * 60 * 1000).toISOString() : undefined,\n    reminderRecipient: Math.random() > 0.7 ? `email${i + 1}@example.com` : undefined\n  }));\n};\n\nconst DealManagement: React.FC = () => {\n  // Khởi tạo dữ liệu giả\n  const [deals, setDeals] = useState<Deal[]>(() => createFakeDeals(20));\n  \n  // State cho bộ lọc\n  const [filters, setFilters] = useState<DealFiltersType>({\n    searchTerm: '',\n    stage: 'Tất cả',\n    owner: 'Tất cả',\n    dateRange: null,\n    hasReminder: null,\n    valueRange: { min: 0, max: 1000000000 }\n  });\n  \n  // Lọc deals dựa trên filters\n  const filteredDeals = useMemo(() => {\n    return deals.filter(deal => {\n      // Lọc theo searchTerm\n      const matchesSearch = !filters.searchTerm || \n        deal.name.toLowerCase().includes(filters.searchTerm.toLowerCase()) ||\n        deal.customer.toLowerCase().includes(filters.searchTerm.toLowerCase());\n      \n      // Lọc theo stage\n      const matchesStage = filters.stage === 'Tất cả' || deal.stage === filters.stage;\n      \n      // Lọc theo owner\n      const matchesOwner = filters.owner === 'Tất cả' || deal.owner === filters.owner;\n      \n      // Lọc theo khoảng giá trị\n      const matchesValue = deal.value >= (filters.valueRange?.min || 0) && \n                         deal.value <= (filters.valueRange?.max || Number.MAX_SAFE_INTEGER);\n      \n      // Lọc theo ngày\n      let matchesDate = true;\n      if (filters.dateRange?.start) {\n        const startDate = new Date(filters.dateRange.start);\n        startDate.setHours(0, 0, 0, 0);\n        const dealDate = new Date(deal.deadline);\n        dealDate.setHours(0, 0, 0, 0);\n        matchesDate = dealDate >= startDate;\n      }\n      \n      // Lọc theo nhắc nhở\n      const matchesReminder = filters.hasReminder === null || \n                            (filters.hasReminder ? deal.hasReminder : !deal.hasReminder);\n      \n      return matchesSearch && matchesStage && matchesOwner && matchesValue && matchesDate && matchesReminder;\n    });\n  }, [deals, filters]);\n  \n  // Xử lý thay đổi bộ lọc\n  const handleFilterChange = (newFilters: DealFiltersType) => {\n    setFilters(newFilters);\n  };\n  \n  // Xử lý đặt lại bộ lọc\n  const handleResetFilters = () => {\n    setFilters({\n      searchTerm: '',\n      stage: 'Tất cả',\n      owner: 'Tất cả',\n      dateRange: null,\n      hasReminder: null,\n      valueRange: { min: 0, max: 1000000000 }\n    });\n  };\n\n  // State cho form thêm/sửa deal\n  const [isFormOpen, setIsFormOpen] = useState(false);\n  const [editingDeal, setEditingDeal] = useState<Deal | null>(null);\n  const [deleteConfirmOpen, setDeleteConfirmOpen] = useState(false);\n  const [dealToDelete, setDealToDelete] = useState<number | null>(null);\n  \n  // State cho tab hiện tại\n  const [currentTab, setCurrentTab] = useState(0);\n  const [remindersCount, setRemindersCount] = useState(0);\n  const [smartFilterOpen, setSmartFilterOpen] = useState(false);\n  const [currentFilter, setCurrentFilter] = useState('');\n  \n  // Xử lý chuyển tab\n  const handleTabChange = (event: React.SyntheticEvent, newValue: number) => {\n    setCurrentTab(newValue);\n  };\n  \n  // Tính toán số lượng nhắc việc\n  const calculateRemindersCount = useCallback((deals: Deal[]): number => {\n    const now = new Date();\n    return deals.filter(deal => {\n      if (!deal.deadline && !deal.reminderDate) return false;\n      \n      const deadlineDate = deal.deadline ? new Date(deal.deadline) : null;\n      const reminderDate = deal.reminderDate ? new Date(deal.reminderDate) : null;\n      \n      const daysUntilDeadline = deadlineDate ? Math.ceil((deadlineDate.getTime() - now.getTime()) / (1000 * 60 * 60 * 24)) : Infinity;\n      const daysUntilReminder = reminderDate ? Math.ceil((reminderDate.getTime() - now.getTime()) / (1000 * 60 * 60 * 24)) : Infinity;\n      \n      return (\n        ((daysUntilDeadline >= 0 && daysUntilDeadline <= 7) || \n         (daysUntilReminder >= 0 && daysUntilReminder <= 7)) && \n        deal.stage !== DealStage.CLOSED_WON && \n        deal.stage !== DealStage.CLOSED_LOST\n      );\n    }).length;\n  }, []);\n\n  // Cập nhật số lượng nhắc việc khi danh sách deals thay đổi\n  useEffect(() => {\n    const count = calculateRemindersCount(deals);\n    setRemindersCount(count);\n  }, [deals, calculateRemindersCount]);\n\n  // Xử lý mở form thêm mới\n  const handleAddNewDeal = () => {\n    setEditingDeal(null);\n    setIsFormOpen(true);\n  };\n\n  // Xử lý mở form chỉnh sửa\n  const handleEditDeal = (deal: Deal) => {\n    setEditingDeal(deal);\n    setIsFormOpen(true);\n  };\n\n  // Xử lý xác nhận xóa\n  const handleDeleteDeal = (dealId: number) => {\n    setDealToDelete(dealId);\n    setDeleteConfirmOpen(true);\n  };\n\n  // Xử lý xóa deal\n  const handleConfirmDelete = () => {\n    if (dealToDelete) {\n      setDeals((prevDeals: Deal[]) => prevDeals.filter((deal: Deal) => deal.id !== dealToDelete));\n      setDeleteConfirmOpen(false);\n      setDealToDelete(null);\n    }\n  };\n\n  // Xử lý thay đổi trạng thái deal\n  const handleStageChange = (dealId: number, newStage: DealStage) => {\n    setDeals(prevDeals => \n      prevDeals.map(deal => \n        deal.id === dealId\n          ? { ...deal, stage: newStage }\n          : deal\n      )\n    );\n  };\n\n  // Xử lý nhân bản deal\n  const handleDuplicateDeal = (deal: Deal) => {\n    const newDeal: Deal = {\n      ...deal,\n      id: Math.max(0, ...deals.map(d => d.id)) + 1,\n      name: `${deal.name} (Bản sao)`,\n      createdAt: new Date().toISOString()\n    };\n    setDeals((prevDeals: Deal[]) => [...prevDeals, newDeal]);\n  };\n\n  // Xử lý gửi form\n  const handleSubmitDeal = (formData: any) => {\n    if (editingDeal) {\n      // Cập nhật deal\n      setDeals((prevDeals: Deal[]) => \n        prevDeals.map((deal: Deal) => \n          deal.id === editingDeal.id \n            ? { ...deal, ...formData, id: editingDeal.id, createdAt: editingDeal.createdAt } as Deal\n            : deal\n        )\n      );\n    } else {\n      // Thêm deal mới\n      const newDeal: Deal = {\n        ...formData,\n        id: Math.max(0, ...deals.map(d => d.id)) + 1,\n        createdAt: new Date().toISOString(),\n        hasReminder: !!formData.reminderDate\n      } as Deal;\n      setDeals((prevDeals: Deal[]) => [...prevDeals, newDeal]);\n    }\n    setIsFormOpen(false);\n  };\n\n  // Xử lý đóng form\n  const handleCloseForm = () => {\n    setIsFormOpen(false);\n    setEditingDeal(null);\n  };\n\n  // Xử lý xem chi tiết deal\n  const handleViewDeal = (deal: Deal | number) => {\n    if (typeof deal === 'number') {\n      const foundDeal = deals.find(d => d.id === deal);\n      if (foundDeal) {\n        console.log('Xem chi tiết deal:', foundDeal);\n        // Có thể mở dialog chi tiết ở đây nếu cần\n      }\n    } else {\n      console.log('Xem chi tiết deal:', deal);\n      // Có thể mở dialog chi tiết ở đây nếu cần\n    }\n  };\n\n  // Xử lý mở/đóng bộ lọc thông minh\n  const handleSmartFilterOpen = () => setSmartFilterOpen(true);\n  const handleSmartFilterClose = () => setSmartFilterOpen(false);\n\n  // Xử lý áp dụng bộ lọc thông minh\n  const handleApplySmartFilter = (query: string) => {\n    setCurrentFilter(query);\n    // TODO: Thêm logic xử lý query và cập nhật filteredDeals\n    console.log('Áp dụng bộ lọc thông minh:', query);\n  };\n\n  // Xóa bộ lọc hiện tại\n  const handleClearFilter = () => {\n    setCurrentFilter('');\n    // TODO: Đặt lại bộ lọc về mặc định\n  };\n\n  return (\n    <Box sx={{ p: 3 }}>\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\n        <Typography variant=\"h4\" component=\"h1\">\n          Quản lý Deal\n        </Typography>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          startIcon={<AddIcon />}\n          onClick={handleAddNewDeal}\n        >\n          Thêm Deal\n        </Button>\n      </Box>\n      \n      {/* Thống kê tổng quan */}\n      <Box sx={{ mb: 3 }}>\n        <DealStats deals={deals} />\n      </Box>\n\n      {/* Bộ lọc */}\n      <Paper sx={{ p: 2, mb: 3 }}>\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\n          <Typography variant=\"h6\" component=\"div\">\n            <FilterListIcon sx={{ verticalAlign: 'middle', mr: 1 }} />\n            Bộ lọc\n          </Typography>\n          <Box sx={{ display: 'flex', gap: 1 }}>\n            <Button \n              variant=\"text\" \n              size=\"small\"\n              onClick={handleResetFilters}\n              startIcon={<FilterListIcon />}\n            >\n              Đặt lại bộ lọc\n            </Button>\n            <Button \n              variant=\"outlined\"\n              size=\"small\"\n              startIcon={<SmartToyIcon />}\n              onClick={handleSmartFilterOpen}\n            >\n              Lọc thông minh\n            </Button>\n          </Box>\n        </Box>\n        \n        <DealFilters \n          onFilterChange={handleFilterChange}\n          initialFilters={filters}\n        />\n      </Paper>\n      \n      {/* Tab điều hướng */}\n      <Box sx={{ borderBottom: 1, borderColor: 'divider', mb: 2 }}>\n        <Tabs value={currentTab} onChange={handleTabChange} aria-label=\"deal tabs\">\n          <Tab label={`Tất cả Deal (${filteredDeals.length})`} />\n          <Tab \n            label={\n              <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                <Badge \n                  badgeContent={remindersCount} \n                  color=\"error\" \n                  overlap=\"circular\"\n                  sx={{ mr: 1 }}\n                >\n                  <NotificationsIcon />\n                </Badge>\n                <Box component=\"span\">Nhắc việc</Box>\n              </Box>\n            } \n          />\n        </Tabs>\n      </Box>\n      \n      {currentFilter && (\n        <Box sx={{ mb: 2, display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n          <Box sx={{ display: 'flex', alignItems: 'center' }}>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              Đang lọc:\n            </Typography>\n            <Chip \n              label={currentFilter} \n              onDelete={handleClearFilter}\n              color=\"primary\"\n              variant=\"outlined\"\n              size=\"small\"\n              sx={{ ml: 1 }}\n            />\n          </Box>\n          <Button \n            size=\"small\" \n            onClick={handleClearFilter}\n            color=\"inherit\"\n          >\n            Xóa bộ lọc\n          </Button>\n        </Box>\n      )}\n\n      {/* Hiển thị DealReminders hoặc DealList dựa trên tab hiện tại */}\n      {currentTab === 0 ? (\n        <>\n          {/* Hiển thị số lượng kết quả */}\n          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\n            Tìm thấy {filteredDeals.length} deal phù hợp\n          </Typography>\n          \n          {/* Danh sách deal */}\n          <DealList \n            deals={filteredDeals}\n            onView={handleViewDeal}\n            onEdit={handleEditDeal}\n            onDelete={handleDeleteDeal}\n            onDuplicate={handleDuplicateDeal}\n          />\n        </>\n      ) : (\n        /* Tab nhắc việc */\n        <DealReminders\n          deals={deals}\n          onViewDeal={handleViewDeal}\n          onEditDeal={(dealId) => {\n            const deal = deals.find(d => d.id === dealId);\n            if (deal) {\n              handleEditDeal(deal);\n            }\n          }}\n          onMarkComplete={(dealId) => {\n            // Đánh dấu nhắc việc đã hoàn thành\n            setDeals(prevDeals => \n              prevDeals.map(deal => \n                deal.id === dealId \n                  ? { ...deal, reminderCompleted: true } \n                  : deal\n              )\n            );\n          }}\n          onStageChange={handleStageChange}\n        />\n      )}\n\n      {/* Form thêm/sửa deal */}\n      <DealForm\n        open={isFormOpen}\n        onClose={handleCloseForm}\n        onSubmit={handleSubmitDeal}\n        initialData={editingDeal || undefined}\n        title={editingDeal ? 'Chỉnh sửa Deal' : 'Thêm Deal mới'}\n      />\n\n      {/* Dialog bộ lọc thông minh */}\n      <SmartFilter\n        open={smartFilterOpen}\n        onClose={handleSmartFilterClose}\n        onApplyFilter={handleApplySmartFilter}\n        currentFilter={currentFilter}\n      />\n\n      {/* Dialog xác nhận xóa */}\n      <Dialog\n        open={deleteConfirmOpen}\n        onClose={() => setDeleteConfirmOpen(false)}\n      >\n        <DialogTitle>Xác nhận xóa</DialogTitle>\n        <DialogContent>\n          <Typography>Bạn có chắc chắn muốn xóa deal này không?</Typography>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setDeleteConfirmOpen(false)}>Hủy</Button>\n          <Button \n            onClick={handleConfirmDelete} \n            color=\"error\"\n            variant=\"contained\"\n          >\n            Xóa\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Box>\n  );\n};\n\nexport default DealManagement;\n"],"names":["DealStage","STAGE_COLORS","INITIAL_CONTACT","REQUIREMENT_RECORDED","QUOTE_SENT","CONTRACT_SENT","CLOSED_WON","CLOSED_LOST","STAGE_WEIGHTS","exampleQueries","_ref","open","onClose","onApplyFilter","currentFilter","query","setQuery","useState","isProcessing","setIsProcessing","handleApply","trim","setTimeout","_jsxs","Dialog","maxWidth","fullWidth","PaperProps","sx","borderRadius","minHeight","display","flexDirection","children","DialogTitle","alignItems","borderBottom","borderColor","padding","_jsx","SmartToyIcon","color","mr","Typography","variant","component","IconButton","onClick","position","right","top","theme","palette","grey","CloseIcon","DialogContent","flex","Box","mb","gutterBottom","TextField","placeholder","value","onChange","e","target","onKeyPress","key","disabled","InputProps","endAdornment","InputAdornment","SendIcon","mt","flexWrap","gap","map","example","index","Chip","label","handleExampleClick","size","cursor","Paper","p","bgcolor","DialogActions","borderTop","Button","startIcon","stage","showTooltip","stageColor","chip","getPadding","backgroundColor","hexToRgba","hex","alpha","r","parseInt","slice","g","b","concat","fontSize","getFontSize","fontWeight","lineHeight","textAlign","whiteSpace","verticalAlign","transition","Tooltip","title","arrow","deadline","reminderNote","getDaysRemaining","deadlineDate","Date","today","setHours","diffTime","getTime","diffDays","Math","ceil","isDeadlineApproaching","tooltipMessage","ml","Badge","NotificationsIcon","getIconSize","animation","deals","onEdit","onDelete","onView","onDuplicate","page","setPage","rowsPerPage","setRowsPerPage","anchorEl","setAnchorEl","selectedDeal","setSelectedDeal","handleCloseMenu","formatDate","dateString","format","locale","vi","error","visibleDeals","width","overflow","TableContainer","maxHeight","Table","stickyHeader","TableHead","TableRow","TableCell","align","TableBody","length","deal","hover","name","reminderDate","DealReminderBadge","notes","noWrap","customer","owner","Intl","NumberFormat","style","currency","minimumFractionDigits","DealStageChip","createdAt","justifyContent","EditIcon","VisibilityIcon","handleOpenMenu","event","currentTarget","MoreVertIcon","id","colSpan","py","TablePagination","rowsPerPageOptions","count","onPageChange","handleChangePage","_event","newPage","onRowsPerPageChange","labelRowsPerPage","labelDisplayedRows","_ref2","from","to","Menu","Boolean","anchorOrigin","vertical","horizontal","transformOrigin","MenuItem","ListItemIcon","ContentCopyIcon","ListItemText","DeleteIcon","_filters$dateRange","_filters$dateRange2","_filters$dateRange3","_filters$dateRange4","onFilterChange","initialFilters","defaultFilters","useMemo","searchTerm","dateRange","hasReminder","valueRange","min","max","filters","setFilters","_initialFilters$dateR","_initialFilters$value","_initialFilters$value2","_initialFilters$value3","_initialFilters$value4","_initialFilters$hasRe","_objectSpread","debounceTimer","useRef","undefined","debounce","useCallback","callback","delay","current","clearTimeout","showAdvancedFilters","setShowAdvancedFilters","setValueRange","useEffect","_initialFilters$dateR2","_initialFilters$value5","_initialFilters$value6","_initialFilters$value7","_initialFilters$value8","_initialFilters$hasRe2","newFilters","handleDateChange","field","date","currentDateRange","start","end","newDateRange","updatedDateRange","formatCurrency","stageOptions","FilterListIcon","gridTemplateColumns","xs","md","startAdornment","SearchIcon","prev","ClearIcon","FormControl","InputLabel","Select","labelId","option","gridColumn","Collapse","in","px","Slider","handleValueRangeChange","newValue","values","onChangeCommitted","handleValueRangeChangeCommitted","valueLabelDisplay","valueLabelFormat","step","LocalizationProvider","dateAdapter","AdapterDateFns","DatePicker","slotProps","textField","minDate","handleClearFilters","resetFilters","handleSearch","onSubmit","initialData","defaultFormData","formData","setFormData","errors","setErrors","handleInputChange","toISOString","Divider","preventDefault","validateForm","newErrors","Object","keys","helperText","type","FormHelperText","multiline","rows","FormControlLabel","control","Switch","checked","_Fragment","form","stats","calculateStats","currentMonth","getMonth","currentYear","getFullYear","totalDealAmount","weightedDealAmount","openDealAmount","closedDealAmount","newDealsThisMonth","totalDealAgeInDays","dealCount","forEach","createdDate","createdTime","currentTime","ageInDays","floor","averageDealAge","round","statItems","icon","AttachMoneyIcon","TimelineIcon","AssignmentIcon","CheckCircleIcon","CalendarTodayIcon","AccessTimeIcon","sm","lg","item","Card","height","boxShadow","CardContent","onViewDeal","onEditDeal","onMarkComplete","onStageChange","onRemindersCountChange","useTheme","selectedReminder","setSelectedReminder","reminderDialogOpen","setReminderDialogOpen","setReminderNote","reminderCompleted","setReminderCompleted","reminders","now","filter","daysUntilDeadline","differenceInDays","Infinity","daysUntilReminder","sort","a","handleCloseDialog","dateObj","isToday","isTomorrow","CardHeader","text","secondary","flexGrow","badgeContent","NotificationsActiveIcon","action","List","disablePadding","reminder","isUrgent","React","ListItem","handleReminderClick","minWidth","primary","primaryTypographyProps","secondaryTypographyProps","ListItemSecondaryAction","renderValue","selected","pb","toLocaleString","my","CheckIcon","handleMarkComplete","DealManagement","setDeals","stages","owners","Array","_","i","String","fromCharCode","random","reminderRecipient","createFakeDeals","filteredDeals","_filters$valueRange","_filters$valueRange2","matchesSearch","toLowerCase","includes","matchesStage","matchesOwner","matchesValue","Number","MAX_SAFE_INTEGER","matchesDate","startDate","dealDate","matchesReminder","isFormOpen","setIsFormOpen","editingDeal","setEditingDeal","deleteConfirmOpen","setDeleteConfirmOpen","dealToDelete","setDealToDelete","currentTab","setCurrentTab","remindersCount","setRemindersCount","smartFilterOpen","setSmartFilterOpen","setCurrentFilter","calculateRemindersCount","handleEditDeal","handleViewDeal","foundDeal","find","d","console","log","handleClearFilter","AddIcon","handleAddNewDeal","DealStats","handleResetFilters","handleSmartFilterOpen","DealFilters","Tabs","handleTabChange","Tab","overlap","DealList","dealId","newDeal","prevDeals","DealReminders","handleStageChange","newStage","DealForm","handleCloseForm","SmartFilter","handleSmartFilterClose","handleConfirmDelete"],"sourceRoot":""}